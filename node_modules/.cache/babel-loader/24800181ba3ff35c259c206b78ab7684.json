{"ast":null,"code":"var _jsxFileName = \"/Users/johnloberger/Flatiron/code/mod5/MyClimateFrontend/src/components/ClimateMap.js\";\nimport React, { Component } from \"react\";\nimport { GoogleApiWrapper, Map, Marker, InfoWindow } from \"google-maps-react\";\nimport GooglePlacesAutocomplete from \"react-google-places-autocomplete\";\nimport \"react-google-places-autocomplete/dist/index.min.css\";\nimport Geocode from \"react-geocode\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { Dropdown } from \"semantic-ui-react\";\nimport mapStyles from \"./mapStyles\";\nimport Markers from \"./Markers\";\nimport { Line, Doughnut } from \"react-chartjs-2\";\nimport UserLocations from \"./UserLocations\";\nimport { createLocationSuccess } from \"../actions/location\";\nimport { connect } from \"react-redux\";\nimport Card from \"@material-ui/core/Card\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { createMuiTheme } from \"@material-ui/core/styles\";\nimport { ThemeProvider } from \"@material-ui/styles\";\nimport ArrowForwardIosIcon from \"@material-ui/icons/ArrowForwardIos\";\nimport ArrowBackIosIcon from \"@material-ui/icons/ArrowBackIos\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SaveAltIcon from \"@material-ui/icons/SaveAlt\";\nimport HelpOutlineIcon from \"@material-ui/icons/HelpOutline\";\nimport aqiTable from \"../images/aqiTable.png\";\nexport class ClimateMap extends Component {\n  constructor() {\n    super();\n    this.state = {\n      searchText: \"\",\n      showClimateScore: false,\n      coords: {\n        lat: -23.304354,\n        lng: 151.916417\n      },\n      address: \"Wilson Island, Australia\",\n      allScores: false,\n      showAQI: true,\n      hoveredPinStat: {},\n      hoveredCoords: {\n        lat: \"\",\n        lng: \"\"\n      },\n      showInfo: false,\n      activeMarker: {},\n      activeCSMarker: false,\n      data: false,\n      markersRendered: false,\n      showUserLocations: false,\n      hovered: false,\n      myLocations: [],\n      saveDisabled: false,\n      modalOpen: \"none\",\n      mapStyle: null\n    };\n\n    this.mouseEnterHandler = (marker, e) => {\n      this.setState({\n        hovered: true,\n        activeMarker: marker\n      });\n    };\n\n    this.mouseLeaveHandler = marker => {\n      this.setState({\n        hovered: false\n      });\n    };\n\n    this.onTimeout = () => {\n      console.log(this.props.locations);\n      console.log(this.state.activeMarker);\n      fetch(`https://api.waqi.info/feed/geo:${this.state.activeMarker.info.lat};${this.state.activeMarker.info.lon}/?token=87b2bba6a5b2e26c577ffc48e297eaed82a8408c`).then(resp => resp.json()).then(data => {\n        if (this.state.showUserLocations) {\n          this.setState({\n            data: data.data,\n            showUserLocations: false\n          });\n        } else {\n          this.setState({\n            data: data.data\n          });\n        }\n\n        console.log(data);\n      });\n    };\n\n    this.clearTimer = () => {\n      clearTimeout(this.timer);\n    };\n\n    this.mapCLicked = (mapProps, map, event) => {\n      console.log(event);\n    };\n\n    this.onMarkerDragEnd = coord => {\n      const {\n        latLng\n      } = coord;\n      const newLat = latLng.lat();\n      const newLon = latLng.lng();\n      console.log(this.state.coords);\n      this._score.state.coords.lat = newLat;\n      this._score.state.coords.lng = newLon;\n\n      this._map.map.setCenter({\n        lat: newLat,\n        lng: newLon\n      });\n\n      Geocode.setApiKey(\"AIzaSyDmc1KD6Xr80d3hduc4Q2MObw1uotQuY-8\");\n      Geocode.fromLatLng(newLat, newLon).then(response => {\n        const newAddress = response.results[0].formatted_address;\n        this._score.state.address = newAddress;\n      }, error => {\n        console.error(error);\n      });\n      fetch(`https://api.waqi.info/feed/geo:${newLat};${newLon}/?token=87b2bba6a5b2e26c577ffc48e297eaed82a8408c`).then(resp => resp.json()).then(data => {\n        console.log(data);\n        this._score.state.aqi = data.data.aqi;\n      });\n    };\n\n    this.handleSubmit = value => {\n      Geocode.setApiKey(\"AIzaSyDmc1KD6Xr80d3hduc4Q2MObw1uotQuY-8\");\n      Geocode.fromAddress(`${value.description}`).then(response => {\n        const {\n          lat,\n          lng\n        } = response.results[0].geometry.location;\n        this.setState({\n          coords: {\n            lat: lat,\n            lng: lng\n          }\n        });\n\n        this._map.map.setCenter({\n          lat: lat,\n          lng: lng\n        });\n\n        this._search.clearValue();\n\n        fetch(`https://climate-score.p.rapidapi.com/${lat}/${lng}`, {\n          method: \"GET\",\n          headers: {\n            \"x-rapidapi-host\": \"climate-score.p.rapidapi.com\",\n            \"x-rapidapi-key\": \"c5855f8358mshe884588b34ae70ep1a1627jsn5e1e97c23a80\"\n          }\n        }).then(resp => resp.json()).then(data => {\n          console.log(data);\n          this.setState({\n            allScores: {\n              ClimateScore: data.ClimateScore,\n              DroughtScore: data.DroughtScore,\n              FireScore: data.FireScore,\n              SeaLevelScore: data.SeaLevelScore,\n              StormScore: data.StormScore,\n              TempScore: data.TempScore\n            }\n          });\n        }).catch(err => {\n          this.setState({\n            allScores: false\n          });\n        });\n        console.log(this.state.coords);\n        Geocode.fromLatLng(lat, lng).then(response => {}, error => {\n          console.error(error);\n        });\n        fetch(`https://api.waqi.info/feed/geo:${lat};${lng}/?token=87b2bba6a5b2e26c577ffc48e297eaed82a8408c`).then(resp => resp.json()).then(locationData => {\n          console.log(locationData);\n          this.setState({\n            data: locationData.data\n          });\n        });\n      });\n    };\n\n    this.showClimateScore = marker => {\n      const newLat = marker.position.lat;\n      const newLon = marker.position.lng;\n      Geocode.setApiKey(\"AIzaSyDmc1KD6Xr80d3hduc4Q2MObw1uotQuY-8\");\n      Geocode.fromLatLng(newLat, newLon).then(response => {\n        const newAddress = response.results[0].formatted_address;\n        this.setState({\n          address: newAddress,\n          activeCSMarker: marker\n        });\n      });\n    };\n\n    this.renderClimateScores = () => {\n      return this.props.climateScores.map(score => {\n        const numberString = score.ClimateScore.toString();\n        const google = this.props.google;\n        let iw = 83,\n            ih = 107;\n        return /*#__PURE__*/React.createElement(Marker, {\n          score: score,\n          onClick: this.showClimateScore,\n          position: {\n            lat: score.lat,\n            lng: score.lng\n          },\n          icon: {\n            url: `https://waqi.info/mapicon/${numberString}.50.png`,\n            anchor: new google.maps.Point(iw / 4, ih / 2 - 5),\n            size: new google.maps.Size(iw / 2, ih / 2),\n            scaledSize: new google.maps.Size(30, 40)\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 9\n          }\n        });\n      });\n    };\n\n    this.labelClicked = e => {\n      console.log(\"working\");\n      console.log(e.target.innerHTML);\n\n      if (e.nativeEvent.target.innerHTML === \"Climate Scoreâ„¢\") {\n        this.setState({\n          showAQI: false\n        });\n      } else {\n        this.setState({\n          showAQI: true,\n          activeCSMarker: false\n        });\n      }\n    };\n\n    this.mouseOut = e => {\n      this.setState({\n        showInfo: false\n      });\n    };\n\n    this.onMarkerClick = (marker, e) => {\n      console.log(marker);\n      fetch(`https://api.waqi.info/feed/geo:${marker.info.lat};${marker.info.lon}/?token=87b2bba6a5b2e26c577ffc48e297eaed82a8408c`).then(resp => resp.json()).then(data => {\n        if (this.state.showUserLocations) {\n          this.setState({\n            data: data.data,\n            showUserLocations: false\n          });\n        } else {\n          this.setState({\n            data: data.data\n          });\n        }\n\n        console.log(data);\n      });\n    };\n\n    this.onMarkerHover = (props, marker, e) => {\n      console.log(marker);\n      console.log(e);\n      this.setState({\n        activeMarker: marker,\n        showInfo: true\n      });\n    };\n\n    this.addLocation = () => {\n      console.log(\"I WAS CLICKED!!!!\");\n\n      if (this.state.data !== false) {\n        const newLocation = {\n          name: this.state.data.city.name,\n          user_id: this.props.auth.id,\n          lat: this.state.data.city.geo[0],\n          lng: this.state.data.city.geo[1]\n        };\n        const reqObj = {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify(newLocation)\n        };\n        fetch(\"http://localhost:3001/locations\", reqObj).then(resp => resp.json()).then(newLocation => {\n          this.props.createLocationSuccess(newLocation);\n        });\n      }\n\n      console.log(this);\n    };\n\n    this.goToLocation = location => {\n      console.log(\"I was clickEd!!\");\n      console.log(location);\n\n      this._map.map.setCenter({\n        lat: location.lat,\n        lng: location.lng\n      });\n\n      fetch(`https://api.waqi.info/feed/geo:${location.lat};${location.lng}/?token=87b2bba6a5b2e26c577ffc48e297eaed82a8408c`).then(resp => resp.json()).then(data => {\n        this.setState({\n          data: data.data,\n          showUserLocations: false\n        });\n        console.log(data);\n      });\n      console.log(this.state.data);\n    };\n\n    this.showMyList = () => {\n      this.setState({\n        showUserLocations: true\n      });\n    };\n\n    this.showStats = () => {\n      this.setState({\n        showUserLocations: false\n      });\n    };\n\n    this.openModal = () => {\n      this.setState({\n        modalOpen: \"block\"\n      });\n    };\n\n    this.handleModalClose = () => {\n      this.setState({\n        modalOpen: \"none\"\n      });\n    };\n\n    this.timer = null;\n  }\n\n  componentWillUnmount() {\n    this.clearTimer();\n  }\n\n  componentDidUpdate() {\n    if (this.state.hovered) {\n      this.timer = setTimeout(this.onTimeout, 500);\n    } else {\n      this.clearTimer();\n    }\n  }\n\n  componentDidMount() {\n    fetch(\"http://localhost:3001/locations\").then(resp => resp.json()).then(locations => {\n      console.log(this.props);\n      console.log(this.state);\n      const usersLocations = locations.filter(loc => loc.user_id === this.props.auth.id);\n      this.setState({\n        myLocations: usersLocations\n      });\n    });\n    navigator.geolocation.getCurrentPosition(position => {\n      let lat = position.coords.latitude;\n      let lng = position.coords.longitude;\n      let currentLocation = {\n        lat: lat,\n        lng: lng\n      };\n      console.log(currentLocation);\n      this.setState({\n        coords: currentLocation\n      });\n    });\n    fetch(`https://api.waqi.info/feed/geo:${this.state.coords.lat};${this.state.coords.lng}/?token=87b2bba6a5b2e26c577ffc48e297eaed82a8408c`).then(resp => resp.json()).then(data => console.log(data.data));\n  }\n\n  render() {\n    console.log(this.state.mapStyle);\n    let aqiColor;\n\n    if (this.state.data !== false && this.state.data.aqi <= 50) {\n      aqiColor = \"#c1ff7a\";\n    } else if (this.state.data !== false && this.state.data.aqi <= 100) {\n      aqiColor = \"#ffff33\";\n    } else if (this.state.data !== false && this.state.data.aqi <= 150) {\n      aqiColor = \"#ffc570\";\n    } else if (this.state.data !== false && this.state.data.aqi <= 200) {\n      aqiColor = \"#f6685e\";\n    } else if (this.state.data !== false && this.state.data.aqi <= 300) {\n      aqiColor = \"#ea80fc\";\n    } else {\n      aqiColor = \"#b2b9e1\";\n    }\n\n    let climColor;\n\n    if (this.state.activeCSMarker !== false && this.state.activeCSMarker.score.ClimateScore <= 25) {\n      climColor = \"#c1ff7a\";\n    } else if (this.state.activeCSMarker !== false && this.state.activeCSMarker.score.ClimateScore <= 50) {\n      climColor = \"#ffff33\";\n    } else {\n      climColor = \"#ffc570\";\n    }\n\n    console.log(this.state);\n    let o3Data;\n    let uviData;\n    let pm10Data;\n    let pm25Data;\n    let days;\n    let hours;\n    let minutes;\n    let droughtData;\n    let fireData;\n    let seaData;\n    let stormData;\n    let tempData;\n\n    if (this.state.activeCSMarker) {\n      droughtData = {\n        datasets: [{\n          data: [this.state.activeCSMarker.score.DroughtScore, 100 - this.state.activeCSMarker.score.DroughtScore],\n          backgroundColor: [\"#FF6384\", \"#36A2EB\"],\n          hoverBackgroundColor: [\"#FF6384\", \"#36A2EB\"]\n        }]\n      };\n      fireData = {\n        datasets: [{\n          data: [this.state.activeCSMarker.score.FireScore, 100 - this.state.activeCSMarker.score.FireScore],\n          backgroundColor: [\"#FF6384\", \"#36A2EB\"],\n          hoverBackgroundColor: [\"#FF6384\", \"#36A2EB\"]\n        }]\n      };\n      seaData = {\n        datasets: [{\n          data: [this.state.activeCSMarker.score.SeaLevelScore, 100 - this.state.activeCSMarker.score.SeaLevelScore],\n          backgroundColor: [\"#FF6384\", \"#36A2EB\"],\n          hoverBackgroundColor: [\"#FF6384\", \"#36A2EB\"]\n        }]\n      };\n      stormData = {\n        datasets: [{\n          data: [this.state.activeCSMarker.score.StormScore, 100 - this.state.activeCSMarker.score.StormScore],\n          backgroundColor: [\"#FF6384\", \"#36A2EB\"],\n          hoverBackgroundColor: [\"#FF6384\", \"#36A2EB\"]\n        }]\n      };\n      tempData = {\n        datasets: [{\n          data: [this.state.activeCSMarker.score.TempScore, 100 - this.state.activeCSMarker.score.TempScore],\n          backgroundColor: [\"#FF6384\", \"#36A2EB\"],\n          hoverBackgroundColor: [\"#FF6384\", \"#36A2EB\"]\n        }]\n      };\n    }\n\n    if (this.state.data !== false) {\n      let now = new Date().getTime();\n      let newDate = new Date(this.state.data.time.iso).getTime();\n      let distance = newDate - now;\n      days = Math.floor(distance / (1000 * 60 * 60 * 24));\n      hours = Math.floor(distance % (1000 * 60 * 60 * 24) / (1000 * 60 * 60));\n      minutes = Math.floor(distance % (1000 * 60 * 60) / (1000 * 60));\n\n      if (this.state.data.forecast.daily !== undefined && \"o3\" in this.state.data.forecast.daily) {\n        let labelArr = [],\n            avgArr = [],\n            minArr = [],\n            maxArr = [];\n\n        for (let i = 0; i < this.state.data.forecast.daily.o3.length; i++) {\n          labelArr.push(new Date(this.state.data.forecast.daily.o3[i].day).toString().substring(0, 10));\n          avgArr.push(this.state.data.forecast.daily.o3[i].avg);\n          minArr.push(this.state.data.forecast.daily.o3[i].min);\n          maxArr.push(this.state.data.forecast.daily.o3[i].max);\n        }\n\n        o3Data = {\n          labels: labelArr,\n          datasets: [{\n            label: \"max\",\n            backgroundColor: \"#f7ff66\",\n            borderColor: \"#f7ff66\",\n            borderWidth: 0,\n            data: maxArr,\n            fill: \"1\",\n            radius: 1\n          }, {\n            label: \"avg\",\n            backgroundColor: \"#4a9eff\",\n            borderColor: \"#4a9eff\",\n            borderWidth: 1,\n            data: avgArr,\n            fill: \"-1\",\n            line: false,\n            radius: 5\n          }, {\n            label: \"min\",\n            backgroundColor: \"#87ff9f\",\n            borderColor: \"#87ff9f\",\n            borderWidth: 0,\n            data: minArr,\n            line: false,\n            fill: \"1\",\n            radius: 1\n          }]\n        };\n      }\n\n      if (this.state.data.forecast.daily !== undefined && \"pm10\" in this.state.data.forecast.daily) {\n        let labelArr = [],\n            avgArr = [],\n            minArr = [],\n            maxArr = [];\n\n        for (let i = 0; i < this.state.data.forecast.daily.pm10.length; i++) {\n          labelArr.push(new Date(this.state.data.forecast.daily.pm10[i].day).toString().substring(0, 10));\n          avgArr.push(this.state.data.forecast.daily.pm10[i].avg);\n          minArr.push(this.state.data.forecast.daily.pm10[i].min);\n          maxArr.push(this.state.data.forecast.daily.pm10[i].max);\n        }\n\n        pm10Data = {\n          labels: labelArr,\n          datasets: [{\n            label: \"max\",\n            backgroundColor: \"#f7ff66\",\n            borderColor: \"#f7ff66\",\n            borderWidth: 0,\n            data: maxArr,\n            fill: \"1\",\n            radius: 1\n          }, {\n            label: \"avg\",\n            backgroundColor: \"#4a9eff\",\n            borderColor: \"#4a9eff\",\n            borderWidth: 1,\n            data: avgArr,\n            fill: \"-1\",\n            line: false,\n            radius: 5\n          }, {\n            label: \"min\",\n            backgroundColor: \"#87ff9f\",\n            borderColor: \"#87ff9f\",\n            borderWidth: 0,\n            data: minArr,\n            line: false,\n            fill: \"1\",\n            radius: 1\n          }]\n        };\n      }\n\n      if (this.state.data.forecast.daily !== undefined && \"pm25\" in this.state.data.forecast.daily) {\n        let labelArr = [],\n            avgArr = [],\n            minArr = [],\n            maxArr = [];\n\n        for (let i = 0; i < this.state.data.forecast.daily.pm25.length; i++) {\n          labelArr.push(new Date(this.state.data.forecast.daily.pm25[i].day).toString().substring(0, 10));\n          avgArr.push(this.state.data.forecast.daily.pm25[i].avg);\n          minArr.push(this.state.data.forecast.daily.pm25[i].min);\n          maxArr.push(this.state.data.forecast.daily.pm25[i].max);\n        }\n\n        pm25Data = {\n          labels: labelArr,\n          datasets: [{\n            label: \"max\",\n            backgroundColor: \"#f7ff66\",\n            borderColor: \"#f7ff66\",\n            borderWidth: 0,\n            data: maxArr,\n            fill: \"1\",\n            radius: 1\n          }, {\n            label: \"avg\",\n            backgroundColor: \"#4a9eff\",\n            borderColor: \"#4a9eff\",\n            borderWidth: 1,\n            data: avgArr,\n            fill: \"-1\",\n            line: false,\n            radius: 5\n          }, {\n            label: \"min\",\n            backgroundColor: \"#87ff9f\",\n            borderColor: \"#87ff9f\",\n            borderWidth: 0,\n            data: minArr,\n            line: false,\n            fill: \"1\",\n            radius: 1\n          }]\n        };\n      }\n\n      if (this.state.data.forecast.daily !== undefined && \"uvi\" in this.state.data.forecast.daily) {\n        let labelArr = [],\n            avgArr = [],\n            minArr = [],\n            maxArr = [];\n\n        for (let i = 0; i < this.state.data.forecast.daily.uvi.length; i++) {\n          labelArr.push(new Date(this.state.data.forecast.daily.uvi[i].day).toString().substring(0, 10));\n          avgArr.push(this.state.data.forecast.daily.uvi[i].avg);\n          minArr.push(this.state.data.forecast.daily.uvi[i].min);\n          maxArr.push(this.state.data.forecast.daily.uvi[i].max);\n        }\n\n        uviData = {\n          labels: labelArr,\n          datasets: [{\n            label: \"max\",\n            backgroundColor: \"#f7ff66\",\n            borderColor: \"#f7ff66\",\n            borderWidth: 0,\n            data: maxArr,\n            fill: \"1\",\n            radius: 1\n          }, {\n            label: \"avg\",\n            backgroundColor: \"#4a9eff\",\n            borderColor: \"#4a9eff\",\n            borderWidth: 1,\n            data: avgArr,\n            fill: \"-1\",\n            line: false,\n            radius: 5\n          }, {\n            label: \"min\",\n            backgroundColor: \"#87ff9f\",\n            borderColor: \"#87ff9f\",\n            borderWidth: 0,\n            data: minArr,\n            line: false,\n            fill: \"1\",\n            radius: 1\n          }]\n        };\n      }\n    }\n\n    const mapOptions = [{\n      key: \"Climate Score\",\n      text: \"Climate Scoreâ„¢\",\n      value: \"Climate Score\"\n    }, {\n      key: \"Air Quality Index\",\n      text: \"Air Quality Index\",\n      value: \"Air Quality Index\"\n    }];\n    const darkTheme = createMuiTheme({\n      palette: {\n        type: \"dark\"\n      }\n    });\n    let saveDisabled;\n\n    if (this.state.data !== false && this.props.locations !== [] && this.props.locations.some(loc => loc.name === this.state.data.city.name)) {\n      saveDisabled = true;\n    } else {\n      saveDisabled = false;\n    }\n\n    let showAqiTable = this.state.modalOpen;\n    return /*#__PURE__*/React.createElement(ThemeProvider, {\n      theme: darkTheme,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 733,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"nav\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 734,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      id: \"aqiTable\",\n      src: aqiTable,\n      alt: \"aqiTable\",\n      style: {\n        display: showAqiTable\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 735,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      direction: \"row\",\n      justify: \"flex-start\",\n      alignItems: \"flex-start\",\n      container: true,\n      spacing: 0,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 741,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"search\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 749,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(GooglePlacesAutocomplete, {\n      ref: search => this._search = search,\n      onSelect: this.handleSubmit,\n      inputStyle: {\n        background: \"rgba(255, 255, 255, 0.3)\",\n        color: \"#FFFFFF\",\n        \"border-radius\": \"1px\"\n      },\n      placeholder: \"\\uD83D\\uDD0E Search Anywhere!\",\n      suggestionsStyles: {\n        background: \"none\",\n        \"border-radius\": \"1px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 750,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 8,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 765,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"location\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 766,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Map, {\n      ref: map => this._map = map,\n      google: this.props.google,\n      styles: this.state.mapStyle,\n      disableDefaultUI: true,\n      streetViewControl: true,\n      zoomControl: true,\n      mapTypeControl: true,\n      mapTypeControlOptions: {\n        position: this.props.google.maps.ControlPosition.TOP_CENTER\n      },\n      zoomControlOptions: {\n        style: this.props.google.maps.ZoomControlStyle.DEFAUL,\n        position: this.props.google.maps.ControlPosition.LEFT_CENTER\n      },\n      streetViewControlOptions: {\n        position: this.props.google.maps.ControlPosition.LEFT_CENTER\n      },\n      onCenterChanged: () => {},\n      initialCenter: this.state.coords,\n      center: this.state.coords,\n      onClick: this.mapCLicked,\n      zoom: 14,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 767,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"filter\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 793,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Dropdown, {\n      closeOnChange: true,\n      inline: true,\n      options: mapOptions,\n      onChange: this.labelClicked,\n      defaultValue: mapOptions[1].value,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 794,\n        columnNumber: 21\n      }\n    })), this.state.showAQI ? /*#__PURE__*/React.createElement(Markers, {\n      onClick: this.onMarkerClick,\n      onMouseover: this.mouseEnterHandler,\n      onMouseout: this.mouseLeaveHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 803,\n        columnNumber: 21\n      }\n    }) : null, !this.state.showAQI ? this.renderClimateScores() : null, /*#__PURE__*/React.createElement(InfoWindow, {\n      marker: this.state.activeMarker,\n      maxWidth: 175,\n      onMouseover: () => this.showInfo(),\n      style: {\n        \"background-color\": \"#000000\"\n      },\n      visible: this.state.showInfo,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 810,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 817,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 818,\n        columnNumber: 23\n      }\n    }, this.state.showInfo ? this.state.activeMarker.info.station.name : null, \" \")))))), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 828,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"hello\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 829,\n        columnNumber: 15\n      }\n    }, this.state.activeCSMarker ? /*#__PURE__*/React.createElement(Card, {\n      variant: \"outlined\",\n      style: {\n        maxHeight: 718,\n        overflow: \"auto\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 831,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(CardContent, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 835,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      variant: \"h4\",\n      component: \"h2\",\n      style: {\n        color: climColor\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 836,\n        columnNumber: 23\n      }\n    }, this.state.activeCSMarker !== false ? \"Climate Score: \" + this.state.activeCSMarker.score.ClimateScore : null), /*#__PURE__*/React.createElement(Typography, {\n      variant: \"h5\",\n      component: \"h2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 846,\n        columnNumber: 23\n      }\n    }, this.state.activeCSMarker !== false ? this.state.address : null), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"clim-score\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 851,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 852,\n        columnNumber: 25\n      }\n    }, this.state.activeCSMarker.score.DroughtScore)), /*#__PURE__*/React.createElement(Doughnut, {\n      data: droughtData,\n      options: {\n        responsive: true,\n        title: {\n          display: true,\n          text: \"Drought Score\",\n          fontSize: 18,\n          fontColor: \"#FFFFFF\"\n        },\n        legend: {\n          display: false\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 854,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"clim-score\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 869,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 870,\n        columnNumber: 25\n      }\n    }, this.state.activeCSMarker.score.StormScore)), /*#__PURE__*/React.createElement(Doughnut, {\n      data: stormData,\n      options: {\n        responsive: true,\n        title: {\n          display: true,\n          text: \"Storm Score\",\n          fontSize: 18,\n          fontColor: \"#FFFFFF\"\n        },\n        legend: {\n          display: false\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 872,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"clim-score\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 887,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 888,\n        columnNumber: 25\n      }\n    }, this.state.activeCSMarker.score.TempScore)), /*#__PURE__*/React.createElement(Doughnut, {\n      data: tempData,\n      options: {\n        responsive: true,\n        title: {\n          display: true,\n          text: \"Temperature Score\",\n          fontSize: 18,\n          fontColor: \"#FFFFFF\"\n        },\n        legend: {\n          display: false\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 890,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"clim-score\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 905,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 906,\n        columnNumber: 25\n      }\n    }, this.state.activeCSMarker.score.FireScore)), /*#__PURE__*/React.createElement(Doughnut, {\n      data: fireData,\n      options: {\n        responsive: true,\n        title: {\n          display: true,\n          text: \"Fire Score\",\n          fontSize: 18,\n          fontColor: \"#FFFFFF\"\n        },\n        legend: {\n          display: false\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 908,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"clim-score\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 923,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 924,\n        columnNumber: 25\n      }\n    }, this.state.activeCSMarker.score.SeaLevelScore)), /*#__PURE__*/React.createElement(Doughnut, {\n      data: seaData,\n      options: {\n        responsive: true,\n        title: {\n          display: true,\n          text: \"Sea Level Score\",\n          fontSize: 18,\n          fontColor: \"#FFFFFF\"\n        },\n        legend: {\n          display: false\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 926,\n        columnNumber: 23\n      }\n    }))) : null, !this.state.showUserLocations && this.state.showAQI ? /*#__PURE__*/React.createElement(Card, {\n      variant: \"outlined\",\n      style: {\n        maxHeight: 718,\n        overflow: \"auto\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 945,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(CardContent, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 949,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"next2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 950,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      className: \"go-and-back\",\n      onClick: this.showMyList,\n      color: \"white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 951,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(ArrowForwardIosIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 956,\n        columnNumber: 27\n      }\n    }))), /*#__PURE__*/React.createElement(Typography, {\n      variant: \"h5\",\n      component: \"h2\",\n      style: {\n        color: aqiColor\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 959,\n        columnNumber: 23\n      }\n    }, this.state.data !== false ? \"Air Quality Index: \" + this.state.data.aqi : null, this.state.data !== false ? /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 968,\n        columnNumber: 27\n      }\n    }, \" \", /*#__PURE__*/React.createElement(IconButton, {\n      className: \"help-icon\",\n      onMouseOver: () => this.openModal(),\n      onMouseOut: () => this.handleModalClose(),\n      color: \"white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 970,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(HelpOutlineIcon, {\n      style: {\n        color: \"rgba(255, 255, 255, 0.5)\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 976,\n        columnNumber: 31\n      }\n    }))) : null), /*#__PURE__*/React.createElement(Typography, {\n      variant: \"h4\",\n      component: \"h2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 983,\n        columnNumber: 23\n      }\n    }, this.state.data !== false ? this.state.data.city.name : null), /*#__PURE__*/React.createElement(Typography, {\n      color: \"textSecondary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 988,\n        columnNumber: 23\n      }\n    }, this.state.data !== false ? +\"\" + -hours + \" hrs & \" + -minutes + \" mins ago - \" + this.state.data.time.s : null), this.state.data !== false && this.state.data.forecast.daily !== undefined ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1000,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Line, {\n      data: o3Data,\n      options: {\n        responsive: true,\n        scales: {\n          yAxes: [{\n            ticks: {\n              beginAtZero: true,\n              fontColor: \"white\"\n            }\n          }],\n          xAxes: [{\n            ticks: {\n              beginAtZero: true,\n              fontColor: \"white\"\n            }\n          }]\n        },\n        tooltips: {\n          mode: \"index\",\n          intersect: true,\n          callbacks: {\n            label: function (tooltipItem) {\n              return Number(tooltipItem.yLabel) + \" Âµg/mÂ³\";\n            }\n          },\n          displayColors: true\n        },\n        title: {\n          display: true,\n          text: \"Ozone (O3) Forecast\",\n          fontSize: 12,\n          fontColor: \"#FFFFFF\"\n        },\n        legend: {\n          display: false,\n          position: \"top\"\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1001,\n        columnNumber: 27\n      }\n    }), /*#__PURE__*/React.createElement(Line, {\n      data: pm10Data,\n      options: {\n        responsive: true,\n        scales: {\n          yAxes: [{\n            ticks: {\n              beginAtZero: true,\n              fontColor: \"white\"\n            }\n          }],\n          xAxes: [{\n            ticks: {\n              beginAtZero: true,\n              fontColor: \"white\"\n            }\n          }]\n        },\n        tooltips: {\n          mode: \"index\",\n          intersect: false,\n          callbacks: {\n            label: function (tooltipItem) {\n              return Number(tooltipItem.yLabel) + \" Âµg/mÂ³\";\n            }\n          },\n          displayColors: true\n        },\n        title: {\n          display: true,\n          text: \"Large Particles (pm10 Forecast)\",\n          fontSize: 12,\n          fontColor: \"#FFFFFF\"\n        },\n        legend: {\n          display: false,\n          position: \"top\"\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1047,\n        columnNumber: 27\n      }\n    }), /*#__PURE__*/React.createElement(Line, {\n      data: pm25Data,\n      options: {\n        responsive: true,\n        scales: {\n          yAxes: [{\n            ticks: {\n              beginAtZero: true,\n              fontColor: \"white\"\n            }\n          }],\n          xAxes: [{\n            ticks: {\n              beginAtZero: true,\n              fontColor: \"white\"\n            }\n          }]\n        },\n        tooltips: {\n          mode: \"index\",\n          intersect: false,\n          callbacks: {\n            label: function (tooltipItem) {\n              return Number(tooltipItem.yLabel) + \" Âµg/mÂ³\";\n            }\n          },\n          displayColors: true\n        },\n        title: {\n          display: true,\n          text: \"Small Particles (pm2.5 Forecast)\",\n          fontSize: 12,\n          fontColor: \"#FFFFFF\"\n        },\n        legend: {\n          display: false,\n          position: \"top\"\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1093,\n        columnNumber: 27\n      }\n    }), /*#__PURE__*/React.createElement(Line, {\n      data: uviData,\n      options: {\n        responsive: true,\n        scales: {\n          yAxes: [{\n            ticks: {\n              beginAtZero: true,\n              fontColor: \"white\"\n            }\n          }],\n          xAxes: [{\n            ticks: {\n              beginAtZero: true,\n              fontColor: \"white\"\n            }\n          }]\n        },\n        tooltips: {\n          mode: \"index\",\n          intersect: false,\n          callbacks: {\n            label: function (tooltipItem) {\n              return Number(tooltipItem.yLabel) + \" UV\";\n            }\n          },\n          displayColors: true\n        },\n        title: {\n          display: true,\n          text: \"Ultra Violet Index (UVI Forecast)\",\n          fontSize: 12,\n          fontColor: \"#FFFFFF\"\n        },\n        legend: {\n          display: false,\n          position: \"top\"\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1139,\n        columnNumber: 27\n      }\n    })) : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1185,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1186,\n        columnNumber: 27\n      }\n    }, \"Welcome to MyClimate.\"), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1187,\n        columnNumber: 27\n      }\n    }, \"Click a location for details.\"))), /*#__PURE__*/React.createElement(CardActions, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1191,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"save\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1192,\n        columnNumber: 23\n      }\n    }, this.state.data !== false ? /*#__PURE__*/React.createElement(IconButton, {\n      className: \"upload-icon\",\n      disabled: saveDisabled,\n      onClick: this.addLocation,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1194,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(SaveAltIcon, {\n      fontSize: \"large\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1199,\n        columnNumber: 29\n      }\n    })) : null))) : null, this.state.showUserLocations ? /*#__PURE__*/React.createElement(Card, {\n      variant: \"outlined\",\n      style: {\n        maxHeight: 718,\n        overflow: \"auto\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1207,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(CardContent, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1211,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      vcolor: \"textSecondary\",\n      gutterBottom: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1212,\n        columnNumber: 23\n      }\n    }, \"Saved Locations\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"next\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1215,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      onClick: this.showStats,\n      className: \"go-and-back\",\n      color: \"white\",\n      \"aria-label\": \"next\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1216,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(ArrowBackIosIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1222,\n        columnNumber: 27\n      }\n    }))), /*#__PURE__*/React.createElement(UserLocations, {\n      locations: this.state.myLocations,\n      clicked: this.goToLocation,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1225,\n        columnNumber: 23\n      }\n    }))) : null)))));\n  }\n\n}\ndocument.body.style = \"background: #424242;\";\n\nconst mapStateToProps = state => {\n  return {\n    auth: state.auth,\n    locations: state.locations,\n    stats: state.stats\n  };\n};\n\nconst mapDispatchToProps = {\n  createLocationSuccess\n};\nconst WrappedContainer = GoogleApiWrapper({\n  apiKey: \"AIzaSyDmc1KD6Xr80d3hduc4Q2MObw1uotQuY-8\"\n})(ClimateMap);\nexport default connect(mapStateToProps, mapDispatchToProps)(WrappedContainer);","map":{"version":3,"sources":["/Users/johnloberger/Flatiron/code/mod5/MyClimateFrontend/src/components/ClimateMap.js"],"names":["React","Component","GoogleApiWrapper","Map","Marker","InfoWindow","GooglePlacesAutocomplete","Geocode","Grid","Dropdown","mapStyles","Markers","Line","Doughnut","UserLocations","createLocationSuccess","connect","Card","CardActions","CardContent","Typography","createMuiTheme","ThemeProvider","ArrowForwardIosIcon","ArrowBackIosIcon","IconButton","SaveAltIcon","HelpOutlineIcon","aqiTable","ClimateMap","constructor","state","searchText","showClimateScore","coords","lat","lng","address","allScores","showAQI","hoveredPinStat","hoveredCoords","showInfo","activeMarker","activeCSMarker","data","markersRendered","showUserLocations","hovered","myLocations","saveDisabled","modalOpen","mapStyle","mouseEnterHandler","marker","e","setState","mouseLeaveHandler","onTimeout","console","log","props","locations","fetch","info","lon","then","resp","json","clearTimer","clearTimeout","timer","mapCLicked","mapProps","map","event","onMarkerDragEnd","coord","latLng","newLat","newLon","_score","_map","setCenter","setApiKey","fromLatLng","response","newAddress","results","formatted_address","error","aqi","handleSubmit","value","fromAddress","description","geometry","location","_search","clearValue","method","headers","ClimateScore","DroughtScore","FireScore","SeaLevelScore","StormScore","TempScore","catch","err","locationData","position","renderClimateScores","climateScores","score","numberString","toString","google","iw","ih","url","anchor","maps","Point","size","Size","scaledSize","labelClicked","target","innerHTML","nativeEvent","mouseOut","onMarkerClick","onMarkerHover","addLocation","newLocation","name","city","user_id","auth","id","geo","reqObj","body","JSON","stringify","goToLocation","showMyList","showStats","openModal","handleModalClose","componentWillUnmount","componentDidUpdate","setTimeout","componentDidMount","usersLocations","filter","loc","navigator","geolocation","getCurrentPosition","latitude","longitude","currentLocation","render","aqiColor","climColor","o3Data","uviData","pm10Data","pm25Data","days","hours","minutes","droughtData","fireData","seaData","stormData","tempData","datasets","backgroundColor","hoverBackgroundColor","now","Date","getTime","newDate","time","iso","distance","Math","floor","forecast","daily","undefined","labelArr","avgArr","minArr","maxArr","i","o3","length","push","day","substring","avg","min","max","labels","label","borderColor","borderWidth","fill","radius","line","pm10","pm25","uvi","mapOptions","key","text","darkTheme","palette","type","some","showAqiTable","display","search","background","color","ControlPosition","TOP_CENTER","style","ZoomControlStyle","DEFAUL","LEFT_CENTER","station","maxHeight","overflow","responsive","title","fontSize","fontColor","legend","s","scales","yAxes","ticks","beginAtZero","xAxes","tooltips","mode","intersect","callbacks","tooltipItem","Number","yLabel","displayColors","document","mapStateToProps","stats","mapDispatchToProps","WrappedContainer","apiKey"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { GoogleApiWrapper, Map, Marker, InfoWindow } from \"google-maps-react\";\nimport GooglePlacesAutocomplete from \"react-google-places-autocomplete\";\nimport \"react-google-places-autocomplete/dist/index.min.css\";\nimport Geocode from \"react-geocode\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { Dropdown } from \"semantic-ui-react\";\nimport mapStyles from \"./mapStyles\";\nimport Markers from \"./Markers\";\nimport { Line, Doughnut } from \"react-chartjs-2\";\nimport UserLocations from \"./UserLocations\";\nimport { createLocationSuccess } from \"../actions/location\";\nimport { connect } from \"react-redux\";\nimport Card from \"@material-ui/core/Card\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { createMuiTheme } from \"@material-ui/core/styles\";\nimport { ThemeProvider } from \"@material-ui/styles\";\nimport ArrowForwardIosIcon from \"@material-ui/icons/ArrowForwardIos\";\nimport ArrowBackIosIcon from \"@material-ui/icons/ArrowBackIos\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SaveAltIcon from \"@material-ui/icons/SaveAlt\";\nimport HelpOutlineIcon from \"@material-ui/icons/HelpOutline\";\nimport aqiTable from \"../images/aqiTable.png\";\n\nexport class ClimateMap extends Component {\n  constructor() {\n    super();\n    this.timer = null;\n  }\n  state = {\n    searchText: \"\",\n    showClimateScore: false,\n    coords: {\n      lat: -23.304354,\n      lng: 151.916417,\n    },\n    address: \"Wilson Island, Australia\",\n    allScores: false,\n    showAQI: true,\n    hoveredPinStat: {},\n    hoveredCoords: {\n      lat: \"\",\n      lng: \"\",\n    },\n    showInfo: false,\n    activeMarker: {},\n    activeCSMarker: false,\n    data: false,\n    markersRendered: false,\n    showUserLocations: false,\n    hovered: false,\n    myLocations: [],\n    saveDisabled: false,\n    modalOpen: \"none\",\n    mapStyle: null,\n  };\n\n  mouseEnterHandler = (marker, e) => {\n    this.setState({ hovered: true, activeMarker: marker });\n  };\n\n  mouseLeaveHandler = (marker) => {\n    this.setState({ hovered: false });\n  };\n\n  componentWillUnmount() {\n    this.clearTimer();\n  }\n\n  onTimeout = () => {\n    console.log(this.props.locations);\n    console.log(this.state.activeMarker);\n    fetch(\n      `https://api.waqi.info/feed/geo:${this.state.activeMarker.info.lat};${this.state.activeMarker.info.lon}/?token=87b2bba6a5b2e26c577ffc48e297eaed82a8408c`\n    )\n      .then((resp) => resp.json())\n      .then((data) => {\n        if (this.state.showUserLocations) {\n          this.setState({\n            data: data.data,\n            showUserLocations: false,\n          });\n        } else {\n          this.setState({\n            data: data.data,\n          });\n        }\n        console.log(data);\n      });\n  };\n\n  clearTimer = () => {\n    clearTimeout(this.timer);\n  };\n\n  componentDidUpdate() {\n    if (this.state.hovered) {\n      this.timer = setTimeout(this.onTimeout, 500);\n    } else {\n      this.clearTimer();\n    }\n  }\n\n  componentDidMount() {\n    fetch(\"http://localhost:3001/locations\")\n      .then((resp) => resp.json())\n      .then((locations) => {\n        console.log(this.props);\n        console.log(this.state);\n        const usersLocations = locations.filter(\n          (loc) => loc.user_id === this.props.auth.id\n        );\n        this.setState({\n          myLocations: usersLocations,\n        });\n      });\n    navigator.geolocation.getCurrentPosition((position) => {\n      let lat = position.coords.latitude;\n      let lng = position.coords.longitude;\n      let currentLocation = { lat: lat, lng: lng };\n      console.log(currentLocation);\n      this.setState({\n        coords: currentLocation,\n      });\n    });\n    fetch(\n      `https://api.waqi.info/feed/geo:${this.state.coords.lat};${this.state.coords.lng}/?token=87b2bba6a5b2e26c577ffc48e297eaed82a8408c`\n    )\n      .then((resp) => resp.json())\n      .then((data) => console.log(data.data));\n  }\n\n  mapCLicked = (mapProps, map, event) => {\n    console.log(event);\n  };\n\n  onMarkerDragEnd = (coord) => {\n    const { latLng } = coord;\n    const newLat = latLng.lat();\n    const newLon = latLng.lng();\n    console.log(this.state.coords);\n    this._score.state.coords.lat = newLat;\n    this._score.state.coords.lng = newLon;\n    this._map.map.setCenter({ lat: newLat, lng: newLon });\n    Geocode.setApiKey(\"AIzaSyDmc1KD6Xr80d3hduc4Q2MObw1uotQuY-8\");\n    Geocode.fromLatLng(newLat, newLon).then(\n      (response) => {\n        const newAddress = response.results[0].formatted_address;\n        this._score.state.address = newAddress;\n      },\n      (error) => {\n        console.error(error);\n      }\n    );\n    fetch(\n      `https://api.waqi.info/feed/geo:${newLat};${newLon}/?token=87b2bba6a5b2e26c577ffc48e297eaed82a8408c`\n    )\n      .then((resp) => resp.json())\n      .then((data) => {\n        console.log(data);\n        this._score.state.aqi = data.data.aqi;\n      });\n  };\n\n  handleSubmit = (value) => {\n    Geocode.setApiKey(\"AIzaSyDmc1KD6Xr80d3hduc4Q2MObw1uotQuY-8\");\n    Geocode.fromAddress(`${value.description}`).then((response) => {\n      const { lat, lng } = response.results[0].geometry.location;\n\n      this.setState({\n        coords: {\n          lat: lat,\n          lng: lng,\n        },\n      });\n      this._map.map.setCenter({ lat: lat, lng: lng });\n      this._search.clearValue();\n      fetch(`https://climate-score.p.rapidapi.com/${lat}/${lng}`, {\n        method: \"GET\",\n        headers: {\n          \"x-rapidapi-host\": \"climate-score.p.rapidapi.com\",\n          \"x-rapidapi-key\":\n            \"c5855f8358mshe884588b34ae70ep1a1627jsn5e1e97c23a80\",\n        },\n      })\n        .then((resp) => resp.json())\n        .then((data) => {\n          console.log(data);\n          this.setState({\n            allScores: {\n              ClimateScore: data.ClimateScore,\n              DroughtScore: data.DroughtScore,\n              FireScore: data.FireScore,\n              SeaLevelScore: data.SeaLevelScore,\n              StormScore: data.StormScore,\n              TempScore: data.TempScore,\n            },\n          });\n        })\n        .catch((err) => {\n          this.setState({\n            allScores: false,\n          });\n        });\n      console.log(this.state.coords);\n      Geocode.fromLatLng(lat, lng).then(\n        (response) => {},\n        (error) => {\n          console.error(error);\n        }\n      );\n      fetch(\n        `https://api.waqi.info/feed/geo:${lat};${lng}/?token=87b2bba6a5b2e26c577ffc48e297eaed82a8408c`\n      )\n        .then((resp) => resp.json())\n        .then((locationData) => {\n          console.log(locationData);\n          this.setState({\n            data: locationData.data,\n          });\n        });\n    });\n  };\n\n  showClimateScore = (marker) => {\n    const newLat = marker.position.lat;\n    const newLon = marker.position.lng;\n    Geocode.setApiKey(\"AIzaSyDmc1KD6Xr80d3hduc4Q2MObw1uotQuY-8\");\n    Geocode.fromLatLng(newLat, newLon).then((response) => {\n      const newAddress = response.results[0].formatted_address;\n      this.setState({\n        address: newAddress,\n        activeCSMarker: marker,\n      });\n    });\n  };\n\n  renderClimateScores = () => {\n    return this.props.climateScores.map((score) => {\n      const numberString = score.ClimateScore.toString();\n      const google = this.props.google;\n      let iw = 83,\n        ih = 107;\n      return (\n        <Marker\n          score={score}\n          onClick={this.showClimateScore}\n          position={{ lat: score.lat, lng: score.lng }}\n          icon={{\n            url: `https://waqi.info/mapicon/${numberString}.50.png`,\n            anchor: new google.maps.Point(iw / 4, ih / 2 - 5),\n            size: new google.maps.Size(iw / 2, ih / 2),\n            scaledSize: new google.maps.Size(30, 40),\n          }}\n        />\n      );\n    });\n  };\n\n  labelClicked = (e) => {\n    console.log(\"working\");\n    console.log(e.target.innerHTML);\n    if (e.nativeEvent.target.innerHTML === \"Climate Scoreâ„¢\") {\n      this.setState({\n        showAQI: false,\n      });\n    } else {\n      this.setState({\n        showAQI: true,\n        activeCSMarker: false,\n      });\n    }\n  };\n\n  mouseOut = (e) => {\n    this.setState({\n      showInfo: false,\n    });\n  };\n\n  onMarkerClick = (marker, e) => {\n    console.log(marker);\n    fetch(\n      `https://api.waqi.info/feed/geo:${marker.info.lat};${marker.info.lon}/?token=87b2bba6a5b2e26c577ffc48e297eaed82a8408c`\n    )\n      .then((resp) => resp.json())\n      .then((data) => {\n        if (this.state.showUserLocations) {\n          this.setState({\n            data: data.data,\n            showUserLocations: false,\n          });\n        } else {\n          this.setState({\n            data: data.data,\n          });\n        }\n        console.log(data);\n      });\n  };\n\n  onMarkerHover = (props, marker, e) => {\n    console.log(marker);\n    console.log(e);\n    this.setState({\n      activeMarker: marker,\n      showInfo: true,\n    });\n  };\n\n  addLocation = () => {\n    console.log(\"I WAS CLICKED!!!!\");\n    if (this.state.data !== false) {\n      const newLocation = {\n        name: this.state.data.city.name,\n        user_id: this.props.auth.id,\n        lat: this.state.data.city.geo[0],\n        lng: this.state.data.city.geo[1],\n      };\n      const reqObj = {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(newLocation),\n      };\n      fetch(\"http://localhost:3001/locations\", reqObj)\n        .then((resp) => resp.json())\n        .then((newLocation) => {\n          this.props.createLocationSuccess(newLocation);\n        });\n    }\n    console.log(this);\n  };\n\n  goToLocation = (location) => {\n    console.log(\"I was clickEd!!\");\n    console.log(location);\n    this._map.map.setCenter({ lat: location.lat, lng: location.lng });\n    fetch(\n      `https://api.waqi.info/feed/geo:${location.lat};${location.lng}/?token=87b2bba6a5b2e26c577ffc48e297eaed82a8408c`\n    )\n      .then((resp) => resp.json())\n      .then((data) => {\n        this.setState({\n          data: data.data,\n          showUserLocations: false,\n        });\n        console.log(data);\n      });\n    console.log(this.state.data);\n  };\n\n  showMyList = () => {\n    this.setState({\n      showUserLocations: true,\n    });\n  };\n\n  showStats = () => {\n    this.setState({\n      showUserLocations: false,\n    });\n  };\n\n  openModal = () => {\n    this.setState({\n      modalOpen: \"block\",\n    });\n  };\n  handleModalClose = () => {\n    this.setState({\n      modalOpen: \"none\",\n    });\n  };\n\n  render() {\n    console.log(this.state.mapStyle);\n    let aqiColor;\n    if (this.state.data !== false && this.state.data.aqi <= 50) {\n      aqiColor = \"#c1ff7a\";\n    } else if (this.state.data !== false && this.state.data.aqi <= 100) {\n      aqiColor = \"#ffff33\";\n    } else if (this.state.data !== false && this.state.data.aqi <= 150) {\n      aqiColor = \"#ffc570\";\n    } else if (this.state.data !== false && this.state.data.aqi <= 200) {\n      aqiColor = \"#f6685e\";\n    } else if (this.state.data !== false && this.state.data.aqi <= 300) {\n      aqiColor = \"#ea80fc\";\n    } else {\n      aqiColor = \"#b2b9e1\";\n    }\n    let climColor;\n    if (\n      this.state.activeCSMarker !== false &&\n      this.state.activeCSMarker.score.ClimateScore <= 25\n    ) {\n      climColor = \"#c1ff7a\";\n    } else if (\n      this.state.activeCSMarker !== false &&\n      this.state.activeCSMarker.score.ClimateScore <= 50\n    ) {\n      climColor = \"#ffff33\";\n    } else {\n      climColor = \"#ffc570\";\n    }\n    console.log(this.state);\n    let o3Data;\n    let uviData;\n    let pm10Data;\n    let pm25Data;\n    let days;\n    let hours;\n    let minutes;\n    let droughtData;\n    let fireData;\n    let seaData;\n    let stormData;\n    let tempData;\n    if (this.state.activeCSMarker) {\n      droughtData = {\n        datasets: [\n          {\n            data: [\n              this.state.activeCSMarker.score.DroughtScore,\n              100 - this.state.activeCSMarker.score.DroughtScore,\n            ],\n            backgroundColor: [\"#FF6384\", \"#36A2EB\"],\n            hoverBackgroundColor: [\"#FF6384\", \"#36A2EB\"],\n          },\n        ],\n      };\n      fireData = {\n        datasets: [\n          {\n            data: [\n              this.state.activeCSMarker.score.FireScore,\n              100 - this.state.activeCSMarker.score.FireScore,\n            ],\n            backgroundColor: [\"#FF6384\", \"#36A2EB\"],\n            hoverBackgroundColor: [\"#FF6384\", \"#36A2EB\"],\n          },\n        ],\n      };\n      seaData = {\n        datasets: [\n          {\n            data: [\n              this.state.activeCSMarker.score.SeaLevelScore,\n              100 - this.state.activeCSMarker.score.SeaLevelScore,\n            ],\n            backgroundColor: [\"#FF6384\", \"#36A2EB\"],\n            hoverBackgroundColor: [\"#FF6384\", \"#36A2EB\"],\n          },\n        ],\n      };\n      stormData = {\n        datasets: [\n          {\n            data: [\n              this.state.activeCSMarker.score.StormScore,\n              100 - this.state.activeCSMarker.score.StormScore,\n            ],\n            backgroundColor: [\"#FF6384\", \"#36A2EB\"],\n            hoverBackgroundColor: [\"#FF6384\", \"#36A2EB\"],\n          },\n        ],\n      };\n      tempData = {\n        datasets: [\n          {\n            data: [\n              this.state.activeCSMarker.score.TempScore,\n              100 - this.state.activeCSMarker.score.TempScore,\n            ],\n            backgroundColor: [\"#FF6384\", \"#36A2EB\"],\n            hoverBackgroundColor: [\"#FF6384\", \"#36A2EB\"],\n          },\n        ],\n      };\n    }\n    if (this.state.data !== false) {\n      let now = new Date().getTime();\n      let newDate = new Date(this.state.data.time.iso).getTime();\n      let distance = newDate - now;\n      days = Math.floor(distance / (1000 * 60 * 60 * 24));\n      hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\n      minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));\n      if (\n        this.state.data.forecast.daily !== undefined &&\n        \"o3\" in this.state.data.forecast.daily\n      ) {\n        let labelArr = [],\n          avgArr = [],\n          minArr = [],\n          maxArr = [];\n        for (let i = 0; i < this.state.data.forecast.daily.o3.length; i++) {\n          labelArr.push(\n            new Date(this.state.data.forecast.daily.o3[i].day)\n              .toString()\n              .substring(0, 10)\n          );\n          avgArr.push(this.state.data.forecast.daily.o3[i].avg);\n          minArr.push(this.state.data.forecast.daily.o3[i].min);\n          maxArr.push(this.state.data.forecast.daily.o3[i].max);\n        }\n        o3Data = {\n          labels: labelArr,\n          datasets: [\n            {\n              label: \"max\",\n              backgroundColor: \"#f7ff66\",\n              borderColor: \"#f7ff66\",\n              borderWidth: 0,\n              data: maxArr,\n              fill: \"1\",\n              radius: 1,\n            },\n            {\n              label: \"avg\",\n              backgroundColor: \"#4a9eff\",\n              borderColor: \"#4a9eff\",\n              borderWidth: 1,\n              data: avgArr,\n              fill: \"-1\",\n              line: false,\n              radius: 5,\n            },\n            {\n              label: \"min\",\n              backgroundColor: \"#87ff9f\",\n              borderColor: \"#87ff9f\",\n              borderWidth: 0,\n              data: minArr,\n              line: false,\n              fill: \"1\",\n              radius: 1,\n            },\n          ],\n        };\n      }\n      if (\n        this.state.data.forecast.daily !== undefined &&\n        \"pm10\" in this.state.data.forecast.daily\n      ) {\n        let labelArr = [],\n          avgArr = [],\n          minArr = [],\n          maxArr = [];\n        for (let i = 0; i < this.state.data.forecast.daily.pm10.length; i++) {\n          labelArr.push(\n            new Date(this.state.data.forecast.daily.pm10[i].day)\n              .toString()\n              .substring(0, 10)\n          );\n          avgArr.push(this.state.data.forecast.daily.pm10[i].avg);\n          minArr.push(this.state.data.forecast.daily.pm10[i].min);\n          maxArr.push(this.state.data.forecast.daily.pm10[i].max);\n        }\n        pm10Data = {\n          labels: labelArr,\n          datasets: [\n            {\n              label: \"max\",\n              backgroundColor: \"#f7ff66\",\n              borderColor: \"#f7ff66\",\n              borderWidth: 0,\n              data: maxArr,\n              fill: \"1\",\n              radius: 1,\n            },\n            {\n              label: \"avg\",\n              backgroundColor: \"#4a9eff\",\n              borderColor: \"#4a9eff\",\n              borderWidth: 1,\n              data: avgArr,\n              fill: \"-1\",\n              line: false,\n              radius: 5,\n            },\n            {\n              label: \"min\",\n              backgroundColor: \"#87ff9f\",\n              borderColor: \"#87ff9f\",\n              borderWidth: 0,\n              data: minArr,\n              line: false,\n              fill: \"1\",\n              radius: 1,\n            },\n          ],\n        };\n      }\n      if (\n        this.state.data.forecast.daily !== undefined &&\n        \"pm25\" in this.state.data.forecast.daily\n      ) {\n        let labelArr = [],\n          avgArr = [],\n          minArr = [],\n          maxArr = [];\n        for (let i = 0; i < this.state.data.forecast.daily.pm25.length; i++) {\n          labelArr.push(\n            new Date(this.state.data.forecast.daily.pm25[i].day)\n              .toString()\n              .substring(0, 10)\n          );\n          avgArr.push(this.state.data.forecast.daily.pm25[i].avg);\n          minArr.push(this.state.data.forecast.daily.pm25[i].min);\n          maxArr.push(this.state.data.forecast.daily.pm25[i].max);\n        }\n        pm25Data = {\n          labels: labelArr,\n          datasets: [\n            {\n              label: \"max\",\n              backgroundColor: \"#f7ff66\",\n              borderColor: \"#f7ff66\",\n              borderWidth: 0,\n              data: maxArr,\n              fill: \"1\",\n              radius: 1,\n            },\n            {\n              label: \"avg\",\n              backgroundColor: \"#4a9eff\",\n              borderColor: \"#4a9eff\",\n              borderWidth: 1,\n              data: avgArr,\n              fill: \"-1\",\n              line: false,\n              radius: 5,\n            },\n            {\n              label: \"min\",\n              backgroundColor: \"#87ff9f\",\n              borderColor: \"#87ff9f\",\n              borderWidth: 0,\n              data: minArr,\n              line: false,\n              fill: \"1\",\n              radius: 1,\n            },\n          ],\n        };\n      }\n      if (\n        this.state.data.forecast.daily !== undefined &&\n        \"uvi\" in this.state.data.forecast.daily\n      ) {\n        let labelArr = [],\n          avgArr = [],\n          minArr = [],\n          maxArr = [];\n        for (let i = 0; i < this.state.data.forecast.daily.uvi.length; i++) {\n          labelArr.push(\n            new Date(this.state.data.forecast.daily.uvi[i].day)\n              .toString()\n              .substring(0, 10)\n          );\n          avgArr.push(this.state.data.forecast.daily.uvi[i].avg);\n          minArr.push(this.state.data.forecast.daily.uvi[i].min);\n          maxArr.push(this.state.data.forecast.daily.uvi[i].max);\n        }\n        uviData = {\n          labels: labelArr,\n          datasets: [\n            {\n              label: \"max\",\n              backgroundColor: \"#f7ff66\",\n              borderColor: \"#f7ff66\",\n              borderWidth: 0,\n              data: maxArr,\n              fill: \"1\",\n              radius: 1,\n            },\n            {\n              label: \"avg\",\n              backgroundColor: \"#4a9eff\",\n              borderColor: \"#4a9eff\",\n              borderWidth: 1,\n              data: avgArr,\n              fill: \"-1\",\n              line: false,\n              radius: 5,\n            },\n            {\n              label: \"min\",\n              backgroundColor: \"#87ff9f\",\n              borderColor: \"#87ff9f\",\n              borderWidth: 0,\n              data: minArr,\n              line: false,\n              fill: \"1\",\n              radius: 1,\n            },\n          ],\n        };\n      }\n    }\n    const mapOptions = [\n      {\n        key: \"Climate Score\",\n        text: \"Climate Scoreâ„¢\",\n        value: \"Climate Score\",\n      },\n      {\n        key: \"Air Quality Index\",\n        text: \"Air Quality Index\",\n        value: \"Air Quality Index\",\n      },\n    ];\n    const darkTheme = createMuiTheme({\n      palette: {\n        type: \"dark\",\n      },\n    });\n    let saveDisabled;\n    if (\n      this.state.data !== false &&\n      this.props.locations !== [] &&\n      this.props.locations.some((loc) => loc.name === this.state.data.city.name)\n    ) {\n      saveDisabled = true;\n    } else {\n      saveDisabled = false;\n    }\n    let showAqiTable = this.state.modalOpen;\n    return (\n      <ThemeProvider theme={darkTheme}>\n        <div className=\"nav\">\n          <img\n            id=\"aqiTable\"\n            src={aqiTable}\n            alt=\"aqiTable\"\n            style={{ display: showAqiTable }}\n          ></img>\n          <Grid\n            container\n            direction=\"row\"\n            justify=\"flex-start\"\n            alignItems=\"flex-start\"\n            container\n            spacing={0}\n          >\n            <div className=\"search\">\n              <GooglePlacesAutocomplete\n                ref={(search) => (this._search = search)}\n                onSelect={this.handleSubmit}\n                inputStyle={{\n                  background: \"rgba(255, 255, 255, 0.3)\",\n                  color: \"#FFFFFF\",\n                  \"border-radius\": \"1px\",\n                }}\n                placeholder=\"ðŸ”Ž Search Anywhere!\"\n                suggestionsStyles={{\n                  background: \"none\",\n                  \"border-radius\": \"1px\",\n                }}\n              />\n            </div>\n            <Grid item xs={8}>\n              <div className=\"location\">\n                <Map\n                  ref={(map) => (this._map = map)}\n                  google={this.props.google}\n                  styles={this.state.mapStyle}\n                  disableDefaultUI={true}\n                  streetViewControl={true}\n                  zoomControl={true}\n                  mapTypeControl={true}\n                  mapTypeControlOptions={{\n                    position: this.props.google.maps.ControlPosition.TOP_CENTER,\n                  }}\n                  zoomControlOptions={{\n                    style: this.props.google.maps.ZoomControlStyle.DEFAUL,\n                    position: this.props.google.maps.ControlPosition\n                      .LEFT_CENTER,\n                  }}\n                  streetViewControlOptions={{\n                    position: this.props.google.maps.ControlPosition\n                      .LEFT_CENTER,\n                  }}\n                  onCenterChanged={() => {}}\n                  initialCenter={this.state.coords}\n                  center={this.state.coords}\n                  onClick={this.mapCLicked}\n                  zoom={14}\n                >\n                  <div className=\"filter\">\n                    <Dropdown\n                      closeOnChange\n                      inline\n                      options={mapOptions}\n                      onChange={this.labelClicked}\n                      defaultValue={mapOptions[1].value}\n                    />\n                  </div>\n                  {this.state.showAQI ? (\n                    <Markers\n                      onClick={this.onMarkerClick}\n                      onMouseover={this.mouseEnterHandler}\n                      onMouseout={this.mouseLeaveHandler}\n                    ></Markers>\n                  ) : null}\n                  {!this.state.showAQI ? this.renderClimateScores() : null}\n                  <InfoWindow\n                    marker={this.state.activeMarker}\n                    maxWidth={175}\n                    onMouseover={() => this.showInfo()}\n                    style={{ \"background-color\": \"#000000\" }}\n                    visible={this.state.showInfo}\n                  >\n                    <div>\n                      <h4>\n                        {this.state.showInfo\n                          ? this.state.activeMarker.info.station.name\n                          : null}{\" \"}\n                      </h4>\n                    </div>\n                  </InfoWindow>\n                </Map>\n              </div>\n            </Grid>\n            <Grid item xs={4}>\n              <div className=\"hello\">\n                {this.state.activeCSMarker ? (\n                  <Card\n                    variant=\"outlined\"\n                    style={{ maxHeight: 718, overflow: \"auto\" }}\n                  >\n                    <CardContent>\n                      <Typography\n                        variant=\"h4\"\n                        component=\"h2\"\n                        style={{ color: climColor }}\n                      >\n                        {this.state.activeCSMarker !== false\n                          ? \"Climate Score: \" +\n                            this.state.activeCSMarker.score.ClimateScore\n                          : null}\n                      </Typography>\n                      <Typography variant=\"h5\" component=\"h2\">\n                        {this.state.activeCSMarker !== false\n                          ? this.state.address\n                          : null}\n                      </Typography>\n                      <div class=\"clim-score\">\n                        <h1>{this.state.activeCSMarker.score.DroughtScore}</h1>\n                      </div>\n                      <Doughnut\n                        data={droughtData}\n                        options={{\n                          responsive: true,\n                          title: {\n                            display: true,\n                            text: \"Drought Score\",\n                            fontSize: 18,\n                            fontColor: \"#FFFFFF\",\n                          },\n                          legend: {\n                            display: false,\n                          },\n                        }}\n                      />\n                      <div class=\"clim-score\">\n                        <h1>{this.state.activeCSMarker.score.StormScore}</h1>\n                      </div>\n                      <Doughnut\n                        data={stormData}\n                        options={{\n                          responsive: true,\n                          title: {\n                            display: true,\n                            text: \"Storm Score\",\n                            fontSize: 18,\n                            fontColor: \"#FFFFFF\",\n                          },\n                          legend: {\n                            display: false,\n                          },\n                        }}\n                      />\n                      <div class=\"clim-score\">\n                        <h1>{this.state.activeCSMarker.score.TempScore}</h1>\n                      </div>\n                      <Doughnut\n                        data={tempData}\n                        options={{\n                          responsive: true,\n                          title: {\n                            display: true,\n                            text: \"Temperature Score\",\n                            fontSize: 18,\n                            fontColor: \"#FFFFFF\",\n                          },\n                          legend: {\n                            display: false,\n                          },\n                        }}\n                      />\n                      <div class=\"clim-score\">\n                        <h1>{this.state.activeCSMarker.score.FireScore}</h1>\n                      </div>\n                      <Doughnut\n                        data={fireData}\n                        options={{\n                          responsive: true,\n                          title: {\n                            display: true,\n                            text: \"Fire Score\",\n                            fontSize: 18,\n                            fontColor: \"#FFFFFF\",\n                          },\n                          legend: {\n                            display: false,\n                          },\n                        }}\n                      />\n                      <div class=\"clim-score\">\n                        <h1>{this.state.activeCSMarker.score.SeaLevelScore}</h1>\n                      </div>\n                      <Doughnut\n                        data={seaData}\n                        options={{\n                          responsive: true,\n                          title: {\n                            display: true,\n                            text: \"Sea Level Score\",\n                            fontSize: 18,\n                            fontColor: \"#FFFFFF\",\n                          },\n                          legend: {\n                            display: false,\n                          },\n                        }}\n                      />\n                    </CardContent>\n                  </Card>\n                ) : null}\n                {!this.state.showUserLocations && this.state.showAQI ? (\n                  <Card\n                    variant=\"outlined\"\n                    style={{ maxHeight: 718, overflow: \"auto\" }}\n                  >\n                    <CardContent>\n                      <div className=\"next2\">\n                        <IconButton\n                          className={\"go-and-back\"}\n                          onClick={this.showMyList}\n                          color=\"white\"\n                        >\n                          <ArrowForwardIosIcon />\n                        </IconButton>\n                      </div>\n                      <Typography\n                        variant=\"h5\"\n                        component=\"h2\"\n                        style={{ color: aqiColor }}\n                      >\n                        {this.state.data !== false\n                          ? \"Air Quality Index: \" + this.state.data.aqi\n                          : null}\n                        {this.state.data !== false ? (\n                          <span>\n                            {\" \"}\n                            <IconButton\n                              className={\"help-icon\"}\n                              onMouseOver={() => this.openModal()}\n                              onMouseOut={() => this.handleModalClose()}\n                              color=\"white\"\n                            >\n                              <HelpOutlineIcon\n                                style={{ color: \"rgba(255, 255, 255, 0.5)\" }}\n                              />\n                            </IconButton>\n                          </span>\n                        ) : null}\n                      </Typography>\n                      <Typography variant=\"h4\" component=\"h2\">\n                        {this.state.data !== false\n                          ? this.state.data.city.name\n                          : null}\n                      </Typography>\n                      <Typography color=\"textSecondary\">\n                        {this.state.data !== false\n                          ? +\"\" +\n                            -hours +\n                            \" hrs & \" +\n                            -minutes +\n                            \" mins ago - \" +\n                            this.state.data.time.s\n                          : null}\n                      </Typography>\n                      {this.state.data !== false &&\n                      this.state.data.forecast.daily !== undefined ? (\n                        <div>\n                          <Line\n                            data={o3Data}\n                            options={{\n                              responsive: true,\n                              scales: {\n                                yAxes: [\n                                  {\n                                    ticks: {\n                                      beginAtZero: true,\n                                      fontColor: \"white\",\n                                    },\n                                  },\n                                ],\n                                xAxes: [\n                                  {\n                                    ticks: {\n                                      beginAtZero: true,\n                                      fontColor: \"white\",\n                                    },\n                                  },\n                                ],\n                              },\n                              tooltips: {\n                                mode: \"index\",\n                                intersect: true,\n                                callbacks: {\n                                  label: function (tooltipItem) {\n                                    return (\n                                      Number(tooltipItem.yLabel) + \" Âµg/mÂ³\"\n                                    );\n                                  },\n                                },\n                                displayColors: true,\n                              },\n                              title: {\n                                display: true,\n                                text: \"Ozone (O3) Forecast\",\n                                fontSize: 12,\n                                fontColor: \"#FFFFFF\",\n                              },\n                              legend: {\n                                display: false,\n                                position: \"top\",\n                              },\n                            }}\n                          />\n                          <Line\n                            data={pm10Data}\n                            options={{\n                              responsive: true,\n                              scales: {\n                                yAxes: [\n                                  {\n                                    ticks: {\n                                      beginAtZero: true,\n                                      fontColor: \"white\",\n                                    },\n                                  },\n                                ],\n                                xAxes: [\n                                  {\n                                    ticks: {\n                                      beginAtZero: true,\n                                      fontColor: \"white\",\n                                    },\n                                  },\n                                ],\n                              },\n                              tooltips: {\n                                mode: \"index\",\n                                intersect: false,\n                                callbacks: {\n                                  label: function (tooltipItem) {\n                                    return (\n                                      Number(tooltipItem.yLabel) + \" Âµg/mÂ³\"\n                                    );\n                                  },\n                                },\n                                displayColors: true,\n                              },\n                              title: {\n                                display: true,\n                                text: \"Large Particles (pm10 Forecast)\",\n                                fontSize: 12,\n                                fontColor: \"#FFFFFF\",\n                              },\n                              legend: {\n                                display: false,\n                                position: \"top\",\n                              },\n                            }}\n                          />\n                          <Line\n                            data={pm25Data}\n                            options={{\n                              responsive: true,\n                              scales: {\n                                yAxes: [\n                                  {\n                                    ticks: {\n                                      beginAtZero: true,\n                                      fontColor: \"white\",\n                                    },\n                                  },\n                                ],\n                                xAxes: [\n                                  {\n                                    ticks: {\n                                      beginAtZero: true,\n                                      fontColor: \"white\",\n                                    },\n                                  },\n                                ],\n                              },\n                              tooltips: {\n                                mode: \"index\",\n                                intersect: false,\n                                callbacks: {\n                                  label: function (tooltipItem) {\n                                    return (\n                                      Number(tooltipItem.yLabel) + \" Âµg/mÂ³\"\n                                    );\n                                  },\n                                },\n                                displayColors: true,\n                              },\n                              title: {\n                                display: true,\n                                text: \"Small Particles (pm2.5 Forecast)\",\n                                fontSize: 12,\n                                fontColor: \"#FFFFFF\",\n                              },\n                              legend: {\n                                display: false,\n                                position: \"top\",\n                              },\n                            }}\n                          />\n                          <Line\n                            data={uviData}\n                            options={{\n                              responsive: true,\n                              scales: {\n                                yAxes: [\n                                  {\n                                    ticks: {\n                                      beginAtZero: true,\n                                      fontColor: \"white\",\n                                    },\n                                  },\n                                ],\n                                xAxes: [\n                                  {\n                                    ticks: {\n                                      beginAtZero: true,\n                                      fontColor: \"white\",\n                                    },\n                                  },\n                                ],\n                              },\n                              tooltips: {\n                                mode: \"index\",\n                                intersect: false,\n                                callbacks: {\n                                  label: function (tooltipItem) {\n                                    return Number(tooltipItem.yLabel) + \" UV\";\n                                  },\n                                },\n                                displayColors: true,\n                              },\n                              title: {\n                                display: true,\n                                text: \"Ultra Violet Index (UVI Forecast)\",\n                                fontSize: 12,\n                                fontColor: \"#FFFFFF\",\n                              },\n                              legend: {\n                                display: false,\n                                position: \"top\",\n                              },\n                            }}\n                          />\n                        </div>\n                      ) : (\n                        <div>\n                          <h1>Welcome to MyClimate.</h1>\n                          <h2>Click a location for details.</h2>\n                        </div>\n                      )}\n                    </CardContent>\n                    <CardActions>\n                      <div className=\"save\">\n                        {this.state.data !== false ? (\n                          <IconButton\n                            className={\"upload-icon\"}\n                            disabled={saveDisabled}\n                            onClick={this.addLocation}\n                          >\n                            <SaveAltIcon fontSize=\"large\" />\n                          </IconButton>\n                        ) : null}\n                      </div>\n                    </CardActions>\n                  </Card>\n                ) : null}\n                {this.state.showUserLocations ? (\n                  <Card\n                    variant=\"outlined\"\n                    style={{ maxHeight: 718, overflow: \"auto\" }}\n                  >\n                    <CardContent>\n                      <Typography vcolor=\"textSecondary\" gutterBottom>\n                        Saved Locations\n                      </Typography>\n                      <div className=\"next\">\n                        <IconButton\n                          onClick={this.showStats}\n                          className=\"go-and-back\"\n                          color=\"white\"\n                          aria-label=\"next\"\n                        >\n                          <ArrowBackIosIcon />\n                        </IconButton>\n                      </div>\n                      <UserLocations\n                        locations={this.state.myLocations}\n                        clicked={this.goToLocation}\n                      />\n                    </CardContent>\n                  </Card>\n                ) : null}\n              </div>\n            </Grid>\n          </Grid>\n        </div>\n      </ThemeProvider>\n    );\n  }\n}\ndocument.body.style = \"background: #424242;\";\n\nconst mapStateToProps = (state) => {\n  return {\n    auth: state.auth,\n    locations: state.locations,\n    stats: state.stats,\n  };\n};\n\nconst mapDispatchToProps = {\n  createLocationSuccess,\n};\n\nconst WrappedContainer = GoogleApiWrapper({\n  apiKey: \"AIzaSyDmc1KD6Xr80d3hduc4Q2MObw1uotQuY-8\",\n})(ClimateMap);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(WrappedContainer);\n"]},"metadata":{},"sourceType":"module"}