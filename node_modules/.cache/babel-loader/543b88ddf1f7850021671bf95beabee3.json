{"ast":null,"code":"var _jsxFileName = \"/Users/johnloberger/Flatiron/code/mod5/frontend/src/components/MarkersList.js\";\nimport React, { Component } from \"react\";\nimport { Map, Marker, InfoWindow, GoogleApiWrapper } from \"google-maps-react\";\n\nclass MarkersList extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      stations: {}\n    };\n\n    this.renderMarkers = () => {\n      return this.state.stations.map(statObj => {\n        const google = this.props.google;\n        let iw = 83,\n            ih = 107;\n\n        if (statObj.aqi !== '-') {\n          const test = statObj.uid;\n          return /*#__PURE__*/React.createElement(Marker, {\n            info: statObj,\n            position: {\n              lat: statObj.lat,\n              lng: statObj.lon\n            },\n            onClick: this.onMarkerClick // onMouseover={(e)=>this.pinHover(e)}\n            // onMouseout={(e)=>this.mouseOut(e)}\n            ,\n            icon: {\n              url: `https://waqi.info/mapicon/${statObj.aqi}.50.png`,\n              anchor: new google.maps.Point(iw / 4, ih / 2 - 5),\n              size: new google.maps.Size(iw / 2, ih / 2),\n              scaledSize: new google.maps.Size(30, 40)\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 41,\n              columnNumber: 13\n            }\n          });\n        }\n      });\n    };\n  }\n\n  componentDidMount() {\n    fetch('https://api.waqi.info/map/bounds/?latlng=85,-180,-85.05115,180&token=87b2bba6a5b2e26c577ffc48e297eaed82a8408c').then(resp => resp.json()).then(stations => {\n      console.log(stations);\n      this.setState({\n        stations: stations.data\n      });\n    });\n  } // shouldComponentUpdate(nextProps, nextState) {\n  //   if (JSON.stringify(this.props.places) === JSON.stringify(nextProps.places) && this.markersRendered) {\n  //     return false;\n  //   }\n  //   this.markersRendered = true;\n  //   return true;\n  // }\n\n\n  render() {\n    console.log(this.state);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 13\n      }\n    }, this.renderMarkers());\n  }\n\n}\n\nexport default MarkersList; // return this.props.stations.map((statObj)=>{\n//   const google = this.props.google\n//   let iw = 83,\n//   ih = 107;\n//   if (statObj.aqi !== '-'){\n//     const test = statObj.uid\n//     return (\n//       <Marker  info={statObj}\n//       position={{lat: statObj.lat, lng: statObj.lon}}\n//       onClick={this.onMarkerClick}\n//       // onMouseover={(e)=>this.pinHover(e)}\n//       // onMouseout={(e)=>this.mouseOut(e)}\n//       icon={{\n//         url: `https://waqi.info/mapicon/${statObj.aqi}.50.png`,\n//         anchor: new google.maps.Point(iw / 4, ih / 2 - 5),\n//         size: new google.maps.Size(iw / 2, ih / 2),\n//         scaledSize: new google.maps.Size(30, 40)\n//       }}\n//       />\n//       )\n//     }  \n//   })","map":{"version":3,"sources":["/Users/johnloberger/Flatiron/code/mod5/frontend/src/components/MarkersList.js"],"names":["React","Component","Map","Marker","InfoWindow","GoogleApiWrapper","MarkersList","state","stations","renderMarkers","map","statObj","google","props","iw","ih","aqi","test","uid","lat","lng","lon","onMarkerClick","url","anchor","maps","Point","size","Size","scaledSize","componentDidMount","fetch","then","resp","json","console","log","setState","data","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,GAAT,EAAcC,MAAd,EAAsBC,UAAtB,EAAkCC,gBAAlC,QAA0D,mBAA1D;;AAEA,MAAMC,WAAN,SAA0BN,KAAK,CAACC,SAAhC,CAA0C;AAAA;AAAA;AAAA,SAMxCM,KANwC,GAMhC;AACNC,MAAAA,QAAQ,EAAE;AADJ,KANgC;;AAAA,SA6BxCC,aA7BwC,GA6BxB,MAAK;AACnB,aAAO,KAAKF,KAAL,CAAWC,QAAX,CAAoBE,GAApB,CAAyBC,OAAD,IAAW;AACtC,cAAMC,MAAM,GAAG,KAAKC,KAAL,CAAWD,MAA1B;AACA,YAAIE,EAAE,GAAG,EAAT;AAAA,YACAC,EAAE,GAAG,GADL;;AAEA,YAAIJ,OAAO,CAACK,GAAR,KAAgB,GAApB,EAAwB;AACtB,gBAAMC,IAAI,GAAGN,OAAO,CAACO,GAArB;AACA,8BACE,oBAAC,MAAD;AAAS,YAAA,IAAI,EAAEP,OAAf;AACA,YAAA,QAAQ,EAAE;AAACQ,cAAAA,GAAG,EAAER,OAAO,CAACQ,GAAd;AAAmBC,cAAAA,GAAG,EAAET,OAAO,CAACU;AAAhC,aADV;AAEA,YAAA,OAAO,EAAE,KAAKC,aAFd,CAGA;AACA;AAJA;AAKA,YAAA,IAAI,EAAE;AACJC,cAAAA,GAAG,EAAG,6BAA4BZ,OAAO,CAACK,GAAI,SAD1C;AAEJQ,cAAAA,MAAM,EAAE,IAAIZ,MAAM,CAACa,IAAP,CAAYC,KAAhB,CAAsBZ,EAAE,GAAG,CAA3B,EAA8BC,EAAE,GAAG,CAAL,GAAS,CAAvC,CAFJ;AAGJY,cAAAA,IAAI,EAAE,IAAIf,MAAM,CAACa,IAAP,CAAYG,IAAhB,CAAqBd,EAAE,GAAG,CAA1B,EAA6BC,EAAE,GAAG,CAAlC,CAHF;AAIJc,cAAAA,UAAU,EAAE,IAAIjB,MAAM,CAACa,IAAP,CAAYG,IAAhB,CAAqB,EAArB,EAAyB,EAAzB;AAJR,aALN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAcC;AACF,OArBE,CAAP;AAsBD,KApDuC;AAAA;;AAUxCE,EAAAA,iBAAiB,GAAE;AACjBC,IAAAA,KAAK,CAAC,+GAAD,CAAL,CACCC,IADD,CACMC,IAAI,IAAIA,IAAI,CAACC,IAAL,EADd,EAECF,IAFD,CAEMxB,QAAQ,IAAI;AAChB2B,MAAAA,OAAO,CAACC,GAAR,CAAY5B,QAAZ;AACA,WAAK6B,QAAL,CAAc;AACZ7B,QAAAA,QAAQ,EAAEA,QAAQ,CAAC8B;AADP,OAAd;AAGD,KAPD;AAQD,GAnBuC,CAqBxC;AACA;AACA;AACA;AACA;AACA;AACA;;;AA2BAC,EAAAA,MAAM,GAAG;AACPJ,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAK7B,KAAjB;AACA,wBAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACL,KAAKE,aAAL,EADK,CAAR;AAKD;;AA7DuC;;AAiE1C,eAAeH,WAAf,C,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import React, { Component } from \"react\";\nimport { Map, Marker, InfoWindow, GoogleApiWrapper } from \"google-maps-react\";\n\nclass MarkersList extends React.Component {\n\n  // constructor(props) {\n  //   super(props);\n  //   this.markersRendered = false;\n  // }\n  state = {\n    stations: {}\n  }\n\n  componentDidMount(){\n    fetch('https://api.waqi.info/map/bounds/?latlng=85,-180,-85.05115,180&token=87b2bba6a5b2e26c577ffc48e297eaed82a8408c')\n    .then(resp => resp.json())\n    .then(stations => {\n      console.log(stations)\n      this.setState({\n        stations: stations.data\n      })\n    })\n  }\n\n  // shouldComponentUpdate(nextProps, nextState) {\n  //   if (JSON.stringify(this.props.places) === JSON.stringify(nextProps.places) && this.markersRendered) {\n  //     return false;\n  //   }\n  //   this.markersRendered = true;\n  //   return true;\n  // }\n\n  renderMarkers = () =>{\n    return this.state.stations.map((statObj)=>{\n        const google = this.props.google\n        let iw = 83,\n        ih = 107;\n        if (statObj.aqi !== '-'){\n          const test = statObj.uid\n          return (\n            <Marker  info={statObj}\n            position={{lat: statObj.lat, lng: statObj.lon}}\n            onClick={this.onMarkerClick}\n            // onMouseover={(e)=>this.pinHover(e)}\n            // onMouseout={(e)=>this.mouseOut(e)}\n            icon={{\n              url: `https://waqi.info/mapicon/${statObj.aqi}.50.png`,\n              anchor: new google.maps.Point(iw / 4, ih / 2 - 5),\n              size: new google.maps.Size(iw / 2, ih / 2),\n              scaledSize: new google.maps.Size(30, 40)\n            }}\n            />\n            )\n          }  \n        })\n  }\n\n  render() {\n    console.log(this.state)\n    return (<div>\n      {this.renderMarkers()}\n      </div>\n      \n    )\n  }\n\n}\n\nexport default MarkersList\n\n// return this.props.stations.map((statObj)=>{\n//   const google = this.props.google\n//   let iw = 83,\n//   ih = 107;\n//   if (statObj.aqi !== '-'){\n//     const test = statObj.uid\n//     return (\n//       <Marker  info={statObj}\n//       position={{lat: statObj.lat, lng: statObj.lon}}\n//       onClick={this.onMarkerClick}\n//       // onMouseover={(e)=>this.pinHover(e)}\n//       // onMouseout={(e)=>this.mouseOut(e)}\n//       icon={{\n//         url: `https://waqi.info/mapicon/${statObj.aqi}.50.png`,\n//         anchor: new google.maps.Point(iw / 4, ih / 2 - 5),\n//         size: new google.maps.Size(iw / 2, ih / 2),\n//         scaledSize: new google.maps.Size(30, 40)\n//       }}\n//       />\n//       )\n//     }  \n//   })"]},"metadata":{},"sourceType":"module"}