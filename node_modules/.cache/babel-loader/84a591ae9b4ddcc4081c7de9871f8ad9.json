{"ast":null,"code":"var _jsxFileName = \"/Users/johnloberger/Flatiron/code/mod5/frontend/src/components/MoreDetails.js\";\nimport React, { Component } from \"react\";\nimport { InfoWindow, GoogleApiWrapper } from 'google-maps-react';\nexport class MoreDetails extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      lat: '',\n      lng: '',\n      data: {}\n    };\n\n    this.fetchData = () => {\n      if (this.state.lat !== '') {\n        console.log('working!');\n        fetch(`https://api.waqi.info/feed/geo:${this.state.lat};${this.state.lng}/?token=87b2bba6a5b2e26c577ffc48e297eaed82a8408c`).then(resp => resp.json()).then(data => {\n          console.log(data);\n          this.setState({\n            data: data\n          });\n        });\n      } else {\n        console.log('more details state of lat is empty string lol');\n        return null;\n      }\n    };\n  }\n\n  componentDidMount() {\n    console.log(this.state);\n\n    if (this.state.lat !== '') {\n      console.log('working!');\n      fetch(`https://api.waqi.info/feed/geo:${this.state.lat};${this.state.lng}/?token=87b2bba6a5b2e26c577ffc48e297eaed82a8408c`).then(resp => resp.json()).then(data => {\n        this.setState({\n          data: data\n        });\n        console.log(data);\n      });\n      this.interval = setInterval(() => this.setState({\n        time: Date.now()\n      }), 500);\n    } else {\n      this.interval = setInterval(() => this.setState({\n        time: Date.now()\n      }), 500);\n      this.setState({\n        coords: null\n      });\n    }\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  render() {\n    this.fetchData();\n    console.log(this.state);\n\n    if (this.state.data === {}) {\n      console.log('no pin hover yet...');\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 14\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 19\n        }\n      }, \"awaiting pin hover!\"));\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 12\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 7\n        }\n      }, \"No2: \", this.state.data.iaqi.no2, \" pm10: \", this.state.data.iaqi.no2));\n    }\n  }\n\n}\nexport default MoreDetails;","map":{"version":3,"sources":["/Users/johnloberger/Flatiron/code/mod5/frontend/src/components/MoreDetails.js"],"names":["React","Component","InfoWindow","GoogleApiWrapper","MoreDetails","state","lat","lng","data","fetchData","console","log","fetch","then","resp","json","setState","componentDidMount","interval","setInterval","time","Date","now","coords","componentWillUnmount","clearInterval","render","iaqi","no2"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport {InfoWindow, GoogleApiWrapper} from 'google-maps-react';\n\n\n\nexport class MoreDetails extends Component {\n\n\n  state={\n    lat: '',\n    lng: '',\n    data: {}\n  }\n\n  componentDidMount(){\n    console.log(this.state)\n    if (this.state.lat !== ''){\n      console.log('working!')\n      fetch(`https://api.waqi.info/feed/geo:${this.state.lat};${this.state.lng}/?token=87b2bba6a5b2e26c577ffc48e297eaed82a8408c`)\n      .then(resp => resp.json())\n      .then(data => {\n\n        this.setState({\n          data: data\n        })\n        console.log(data)}) \n        this.interval = setInterval(() => this.setState({ time: Date.now() }), 500);\n    } else {\n        this.interval = setInterval(() => this.setState({ time: Date.now() }), 500);\n        this.setState({\n          coords: null\n        })\n      }\n    }\n  \n  fetchData = () => {\n    if (this.state.lat !== ''){\n      console.log('working!')\n      fetch(`https://api.waqi.info/feed/geo:${this.state.lat};${this.state.lng}/?token=87b2bba6a5b2e26c577ffc48e297eaed82a8408c`)\n      .then(resp => resp.json())\n      .then(data => {\n        console.log(data)\n        this.setState({\n          data: data\n        })\n      })\n    } else {\n      console.log('more details state of lat is empty string lol')\n      return null\n    }\n  }\n  \n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  render(){\n    this.fetchData()\n    console.log(this.state)\n    if (this.state.data === {}){\n      console.log('no pin hover yet...')\n      return <div><p>awaiting pin hover!</p></div>\n    } else {\n    return <div>\n      <p>No2: {this.state.data.iaqi.no2} pm10: {this.state.data.iaqi.no2}</p>\n      </div>\n    }\n  }\n\n}\n\nexport default MoreDetails"]},"metadata":{},"sourceType":"module"}