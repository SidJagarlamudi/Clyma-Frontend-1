{"ast":null,"code":"var _jsxFileName = \"/Users/johnloberger/Flatiron/code/mod5/MyClimateFrontend/src/components/NewsFeed.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { fetchLocationsSuccess } from '../actions/location';\nimport { fetchStatSuccess } from '../actions/stat';\nimport { fetchCitiesSuccess } from '../actions/city';\nimport { currentUser } from '../actions/auth';\nimport ClimateMap from './ClimateMap';\nimport Geocode from \"react-geocode\";\nimport climScores from './climScores.json';\nimport NewsCard from './NewsCard';\nimport Grid from '@material-ui/core/Grid';\nimport { Dropdown } from 'semantic-ui-react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\n\nclass NewsFeed extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      newsArticles: []\n    };\n\n    this.renderFirst3rd = () => {\n      const length = this.state.newsArticles.length;\n      const one3rd = length / 3;\n      const roundedUp = Math.ceil(one3rd);\n      const first3rd = this.state.newsArticles.slice(0, roundedUp);\n      console.log(first3rd);\n      return first3rd.map(article => {\n        return /*#__PURE__*/React.createElement(NewsCard, {\n          article: article,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 14\n          }\n        });\n      });\n    };\n\n    this.renderSecond3rd = () => {\n      const length = this.state.newsArticles.length;\n      const one3rd = length / 3;\n      const roundedUp = Math.ceil(one3rd);\n      const second3rd = this.state.newsArticles.slice(roundedUp, roundedUp * 2);\n      return second3rd.map(article => {\n        return /*#__PURE__*/React.createElement(NewsCard, {\n          article: article,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 14\n          }\n        });\n      });\n    };\n\n    this.renderThird3rd = () => {\n      const length = this.state.newsArticles.length;\n      const one3rd = length / 3;\n      const roundedUp = Math.ceil(one3rd);\n      const third3rd = this.state.newsArticles.slice(roundedUp * 2, roundedUp * 3);\n      return third3rd.map(article => {\n        return /*#__PURE__*/React.createElement(NewsCard, {\n          article: article,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 14\n          }\n        });\n      });\n    };\n  }\n\n  componentDidMount() {\n    const token = localStorage.getItem('token');\n    console.log(token);\n\n    if (!token) {\n      this.props.history.push('/login');\n    } else {\n      const reqObj = {\n        method: 'GET',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      };\n      fetch('http://localhost:3001/current_user', reqObj).then(resp => resp.json()).then(data => {\n        console.log(data);\n        this.props.currentUser(data);\n      });\n      fetch('https://newsapi.org/v2/everything?q=climate%20change&apiKey=cdcfd508f0a3409cb71b20f0d5bba38e').then(resp => resp.json()).then(news => {\n        console.log(news.articles);\n        this.setState({\n          newsArticles: news.articles\n        });\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      class: \"menu\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"#\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 7\n      }\n    }, \"Item 1\"), /*#__PURE__*/React.createElement(\"ul\", {\n      class: \"sub-menu\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"#\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 13\n      }\n    }, \"Child 1\")), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"#\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 13\n      }\n    }, \"Child 2\")), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"#\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 13\n      }\n    }, \"Child 3\")), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"#\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 13\n      }\n    }, \"Child 4\"))))), /*#__PURE__*/React.createElement(Dropdown, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      direction: \"row\",\n      justify: \"flex-start\",\n      alignItems: \"flex-start\",\n      spacing: 0,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 11\n      }\n    }, this.renderFirst3rd()), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 13\n      }\n    }, this.renderSecond3rd()), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 13\n      }\n    }, this.renderThird3rd())));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    auth: state.auth,\n    current_user: state.currentUser\n  };\n};\n\nconst mapDispatchToProps = {\n  currentUser\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(NewsFeed);","map":{"version":3,"sources":["/Users/johnloberger/Flatiron/code/mod5/MyClimateFrontend/src/components/NewsFeed.js"],"names":["React","connect","fetchLocationsSuccess","fetchStatSuccess","fetchCitiesSuccess","currentUser","ClimateMap","Geocode","climScores","NewsCard","Grid","Dropdown","makeStyles","InputLabel","MenuItem","ListSubheader","FormControl","Select","NewsFeed","Component","state","newsArticles","renderFirst3rd","length","one3rd","roundedUp","Math","ceil","first3rd","slice","console","log","map","article","renderSecond3rd","second3rd","renderThird3rd","third3rd","componentDidMount","token","localStorage","getItem","props","history","push","reqObj","method","headers","fetch","then","resp","json","data","news","articles","setState","render","mapStateToProps","auth","current_user","mapDispatchToProps"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,qBAAT,QAAsC,qBAAtC;AACA,SAASC,gBAAT,QAAiC,iBAAjC;AACA,SAASC,kBAAT,QAAmC,iBAAnC;AACA,SAASC,WAAT,QAA4B,iBAA5B;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,OAAP,MAAoB,eAApB;AACA,OAAOC,UAAP,MAAuB,mBAAvB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,SAASC,QAAT,QAAyB,mBAAzB;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,aAAP,MAA0B,iCAA1B;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;;AAEA,MAAMC,QAAN,SAAuBlB,KAAK,CAACmB,SAA7B,CAAuC;AAAA;AAAA;AAAA,SAErCC,KAFqC,GAE7B;AACNC,MAAAA,YAAY,EAAE;AADR,KAF6B;;AAAA,SAmCrCC,cAnCqC,GAmCpB,MAAM;AACrB,YAAMC,MAAM,GAAG,KAAKH,KAAL,CAAWC,YAAX,CAAwBE,MAAvC;AACA,YAAMC,MAAM,GAAGD,MAAM,GAAG,CAAxB;AACA,YAAME,SAAS,GAAGC,IAAI,CAACC,IAAL,CAAUH,MAAV,CAAlB;AACA,YAAMI,QAAQ,GAAG,KAAKR,KAAL,CAAWC,YAAX,CAAwBQ,KAAxB,CAA8B,CAA9B,EAAiCJ,SAAjC,CAAjB;AACAK,MAAAA,OAAO,CAACC,GAAR,CAAYH,QAAZ;AACA,aAAOA,QAAQ,CAACI,GAAT,CAAcC,OAAD,IAAW;AAC7B,4BAAO,oBAAC,QAAD;AAAU,UAAA,OAAO,EAAEA,OAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACD,OAFM,CAAP;AAGD,KA5CoC;;AAAA,SA8CrCC,eA9CqC,GA8CnB,MAAM;AACtB,YAAMX,MAAM,GAAG,KAAKH,KAAL,CAAWC,YAAX,CAAwBE,MAAvC;AACA,YAAMC,MAAM,GAAGD,MAAM,GAAG,CAAxB;AACA,YAAME,SAAS,GAAGC,IAAI,CAACC,IAAL,CAAUH,MAAV,CAAlB;AACA,YAAMW,SAAS,GAAG,KAAKf,KAAL,CAAWC,YAAX,CAAwBQ,KAAxB,CAA8BJ,SAA9B,EAAyCA,SAAS,GAAG,CAArD,CAAlB;AACA,aAAOU,SAAS,CAACH,GAAV,CAAeC,OAAD,IAAW;AAC9B,4BAAO,oBAAC,QAAD;AAAU,UAAA,OAAO,EAAEA,OAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACD,OAFM,CAAP;AAGD,KAtDoC;;AAAA,SAwDrCG,cAxDqC,GAwDpB,MAAM;AACrB,YAAMb,MAAM,GAAG,KAAKH,KAAL,CAAWC,YAAX,CAAwBE,MAAvC;AACA,YAAMC,MAAM,GAAGD,MAAM,GAAG,CAAxB;AACA,YAAME,SAAS,GAAGC,IAAI,CAACC,IAAL,CAAUH,MAAV,CAAlB;AACA,YAAMa,QAAQ,GAAG,KAAKjB,KAAL,CAAWC,YAAX,CAAwBQ,KAAxB,CAA8BJ,SAAS,GAAG,CAA1C,EAA6CA,SAAS,GAAG,CAAzD,CAAjB;AACA,aAAOY,QAAQ,CAACL,GAAT,CAAcC,OAAD,IAAW;AAC7B,4BAAO,oBAAC,QAAD;AAAU,UAAA,OAAO,EAAEA,OAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACD,OAFM,CAAP;AAGD,KAhEoC;AAAA;;AAMrCK,EAAAA,iBAAiB,GAAE;AACjB,UAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;AACAX,IAAAA,OAAO,CAACC,GAAR,CAAYQ,KAAZ;;AACA,QAAI,CAACA,KAAL,EAAY;AACV,WAAKG,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,QAAxB;AACD,KAFD,MAEO;AACL,YAAMC,MAAM,GAAG;AACbC,QAAAA,MAAM,EAAE,KADK;AAEbC,QAAAA,OAAO,EAAE;AACP,2BAAkB,UAASR,KAAM;AAD1B;AAFI,OAAf;AAMAS,MAAAA,KAAK,CAAC,oCAAD,EAAuCH,MAAvC,CAAL,CACCI,IADD,CACMC,IAAI,IAAIA,IAAI,CAACC,IAAL,EADd,EAECF,IAFD,CAEMG,IAAI,IAAI;AACZtB,QAAAA,OAAO,CAACC,GAAR,CAAYqB,IAAZ;AACA,aAAKV,KAAL,CAAWrC,WAAX,CAAuB+C,IAAvB;AACD,OALD;AAMAJ,MAAAA,KAAK,CAAC,8FAAD,CAAL,CACCC,IADD,CACMC,IAAI,IAAIA,IAAI,CAACC,IAAL,EADd,EAECF,IAFD,CAEMI,IAAI,IAAI;AACZvB,QAAAA,OAAO,CAACC,GAAR,CAAYsB,IAAI,CAACC,QAAjB;AACA,aAAKC,QAAL,CAAc;AACZlC,UAAAA,YAAY,EAAEgC,IAAI,CAACC;AADP,SAAd;AAGD,OAPD;AAQD;AACF;;AAiCDE,EAAAA,MAAM,GAAE;AACJ,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAI,MAAA,KAAK,EAAC,MAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAG,MAAA,IAAI,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAI,MAAA,KAAK,EAAC,UAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAI;AAAG,MAAA,IAAI,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAJ,CADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAI;AAAG,MAAA,IAAI,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAJ,CAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAI;AAAG,MAAA,IAAI,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAJ,CAHF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAI;AAAG,MAAA,IAAI,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAJ,CAJF,CAFF,CADM,CADF,eAYA,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAZA,eAcE,oBAAC,IAAD;AACE,MAAA,SAAS,MADX;AAEE,MAAA,SAAS,EAAC,KAFZ;AAGE,MAAA,OAAO,EAAC,YAHV;AAIE,MAAA,UAAU,EAAC,YAJb;AAKE,MAAA,OAAO,EAAE,CALX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAOA,oBAAC,IAAD;AAAM,MAAA,IAAI,MAAV;AAAW,MAAA,EAAE,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKlC,cAAL,EADH,CAPA,eAUE,oBAAC,IAAD;AAAM,MAAA,IAAI,MAAV;AAAW,MAAA,EAAE,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,KAAKY,eAAL,EADD,CAVF,eAaE,oBAAC,IAAD;AAAM,MAAA,IAAI,MAAV;AAAW,MAAA,EAAE,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,KAAKE,cAAL,EADD,CAbF,CAdF,CADF;AAmCH;;AAtGoC;;AAyGvC,MAAMqB,eAAe,GAAIrC,KAAD,IAAW;AACjC,SAAO;AACLsC,IAAAA,IAAI,EAAEtC,KAAK,CAACsC,IADP;AAELC,IAAAA,YAAY,EAAEvC,KAAK,CAACf;AAFf,GAAP;AAID,CALD;;AAOA,MAAMuD,kBAAkB,GAAG;AACzBvD,EAAAA;AADyB,CAA3B;AAIA,eAAeJ,OAAO,CAACwD,eAAD,EAAkBG,kBAAlB,CAAP,CAA6C1C,QAA7C,CAAf","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux'\nimport { fetchLocationsSuccess } from '../actions/location'\nimport { fetchStatSuccess } from '../actions/stat'\nimport { fetchCitiesSuccess } from '../actions/city'\nimport { currentUser } from '../actions/auth'\nimport ClimateMap from './ClimateMap'\nimport Geocode from \"react-geocode\";\nimport climScores from './climScores.json'\nimport NewsCard from './NewsCard';\nimport Grid from '@material-ui/core/Grid';\nimport { Dropdown } from 'semantic-ui-react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\n\nclass NewsFeed extends React.Component {\n\n  state = {\n    newsArticles: []\n  }\n  \n  componentDidMount(){\n    const token = localStorage.getItem('token')\n    console.log(token)\n    if (!token) {\n      this.props.history.push('/login')\n    } else {\n      const reqObj = {\n        method: 'GET',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      }\n      fetch('http://localhost:3001/current_user', reqObj)\n      .then(resp => resp.json())\n      .then(data => {\n        console.log(data)\n        this.props.currentUser(data)\n      })\n      fetch('https://newsapi.org/v2/everything?q=climate%20change&apiKey=cdcfd508f0a3409cb71b20f0d5bba38e')  \n      .then(resp => resp.json())\n      .then(news => {\n        console.log(news.articles)\n        this.setState({\n          newsArticles: news.articles\n        })\n      })\n    }\n  }\n\n  renderFirst3rd = () => {\n    const length = this.state.newsArticles.length\n    const one3rd = length / 3\n    const roundedUp = Math.ceil(one3rd)\n    const first3rd = this.state.newsArticles.slice(0, roundedUp)\n    console.log(first3rd)\n    return first3rd.map((article)=>{\n      return <NewsCard article={article}/>\n    })\n  }\n\n  renderSecond3rd = () => {\n    const length = this.state.newsArticles.length\n    const one3rd = length / 3\n    const roundedUp = Math.ceil(one3rd)\n    const second3rd = this.state.newsArticles.slice(roundedUp, roundedUp * 2)\n    return second3rd.map((article)=>{\n      return <NewsCard article={article}/>\n    })\n  }\n\n  renderThird3rd = () => {\n    const length = this.state.newsArticles.length\n    const one3rd = length / 3\n    const roundedUp = Math.ceil(one3rd)\n    const third3rd = this.state.newsArticles.slice(roundedUp * 2, roundedUp * 3)\n    return third3rd.map((article)=>{\n      return <NewsCard article={article} />\n    })\n  }\n\n  render(){ \n      return (\n        <div>\n          <ul class=\"menu\">\n    <li>\n      <a href=\"#\">Item 1</a>\n      <ul class=\"sub-menu\">\n        <li><a href=\"#\">Child 1</a></li>\n        <li><a href=\"#\">Child 2</a></li>\n        <li><a href=\"#\">Child 3</a></li>\n        <li><a href=\"#\">Child 4</a></li>\n      </ul>\n    </li>\n    </ul>\n        <Dropdown>\n          </Dropdown>\n          <Grid\n            container\n            direction=\"row\"\n            justify=\"flex-start\"\n            alignItems=\"flex-start\"\n            spacing={0}\n            >\n          <Grid item xs>\n            {this.renderFirst3rd()}\n            </Grid>\n            <Grid item xs>\n            {this.renderSecond3rd()}\n            </Grid>\n            <Grid item xs>\n            {this.renderThird3rd()}\n            </Grid>\n\n\n          </Grid>\n        </div>)\n  };\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    auth: state.auth,\n    current_user: state.currentUser,\n  }\n}\n\nconst mapDispatchToProps = {\n  currentUser\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NewsFeed);\n\n\n"]},"metadata":{},"sourceType":"module"}